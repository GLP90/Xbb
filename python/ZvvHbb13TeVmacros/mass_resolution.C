void mass_resolution()
{
//=========Macro generated from canvas: c1/c1
//=========  (Wed Jan 13 18:32:44 2016) by ROOT version6.02/05
   TCanvas *c1 = new TCanvas("c1", "c1",0,0,1280,768);
   gStyle->SetOptStat(0);
   c1->Range(70,-587.4,170,5286.6);
   c1->SetFillColor(0);
   c1->SetBorderMode(0);
   c1->SetBorderSize(2);
   c1->SetGridx();
   c1->SetGridy();
   c1->SetFrameBorderMode(0);
   c1->SetFrameBorderMode(0);
   
   TH1F *Hmass1 = new TH1F("Hmass1","Reconstructed Higgs mass distribution",40,80,160);
   Hmass1->SetBinContent(0,999);
   Hmass1->SetBinContent(1,295);
   Hmass1->SetBinContent(2,367);
   Hmass1->SetBinContent(3,433);
   Hmass1->SetBinContent(4,551);
   Hmass1->SetBinContent(5,629);
   Hmass1->SetBinContent(6,823);
   Hmass1->SetBinContent(7,984);
   Hmass1->SetBinContent(8,1143);
   Hmass1->SetBinContent(9,1309);
   Hmass1->SetBinContent(10,1475);
   Hmass1->SetBinContent(11,1762);
   Hmass1->SetBinContent(12,2005);
   Hmass1->SetBinContent(13,2261);
   Hmass1->SetBinContent(14,2516);
   Hmass1->SetBinContent(15,2871);
   Hmass1->SetBinContent(16,3058);
   Hmass1->SetBinContent(17,3404);
   Hmass1->SetBinContent(18,3577);
   Hmass1->SetBinContent(19,3828);
   Hmass1->SetBinContent(20,3782);
   Hmass1->SetBinContent(21,3891);
   Hmass1->SetBinContent(22,3839);
   Hmass1->SetBinContent(23,3636);
   Hmass1->SetBinContent(24,3418);
   Hmass1->SetBinContent(25,3162);
   Hmass1->SetBinContent(26,2787);
   Hmass1->SetBinContent(27,2468);
   Hmass1->SetBinContent(28,2067);
   Hmass1->SetBinContent(29,1745);
   Hmass1->SetBinContent(30,1334);
   Hmass1->SetBinContent(31,1025);
   Hmass1->SetBinContent(32,839);
   Hmass1->SetBinContent(33,647);
   Hmass1->SetBinContent(34,489);
   Hmass1->SetBinContent(35,372);
   Hmass1->SetBinContent(36,261);
   Hmass1->SetBinContent(37,244);
   Hmass1->SetBinContent(38,137);
   Hmass1->SetBinContent(39,132);
   Hmass1->SetBinContent(40,111);
   Hmass1->SetBinContent(41,1154);
   Hmass1->SetMaximum(4699.2);
   Hmass1->SetEntries(71830);
   Hmass1->SetStats(0);
   
   TF1 *fit11 = new TF1("fit1","[0]*exp(-0.5*((x-[1])/[2])^2)*abs(x<=[1])+[0]*exp(-0.5*((x-[1])/[3])^2)*abs(x>[1])+[4]",88.34463,188.8606);
   fit11->SetFillColor(19);
   fit11->SetFillStyle(0);
   fit11->SetLineWidth(2);
   fit11->SetChisquare(53.41986);
   fit11->SetNDF(31);
   fit11->GetXaxis()->SetLabelFont(42);
   fit11->GetXaxis()->SetLabelSize(0.035);
   fit11->GetXaxis()->SetTitleSize(0.035);
   fit11->GetXaxis()->SetTitleFont(42);
   fit11->GetYaxis()->SetLabelFont(42);
   fit11->GetYaxis()->SetLabelSize(0.035);
   fit11->GetYaxis()->SetTitleSize(0.035);
   fit11->GetYaxis()->SetTitleFont(42);
   fit11->SetParameter(0,3725.902);
   fit11->SetParError(0,19.82671);
   fit11->SetParLimits(0,0,0);
   fit11->SetParameter(1,121.6961);
   fit11->SetParError(1,0.1838119);
   fit11->SetParLimits(1,0,0);
   fit11->SetParameter(2,16.57776);
   fit11->SetParError(2,0.1559843);
   fit11->SetParLimits(2,0,0);
   fit11->SetParameter(3,11.84861);
   fit11->SetParError(3,0.1484124);
   fit11->SetParLimits(3,0,0);
   fit11->SetParameter(4,90.6676);
   fit11->SetParError(4,7.96345);
   fit11->SetParLimits(4,0,0);
   Hmass1->GetListOfFunctions()->Add(fit11);
   Hmass1->SetLineWidth(2);
   Hmass1->GetXaxis()->SetTitle("m(bb) [GeV]");
   Hmass1->GetXaxis()->SetLabelFont(42);
   Hmass1->GetXaxis()->SetLabelSize(0.035);
   Hmass1->GetXaxis()->SetTitleSize(0.035);
   Hmass1->GetXaxis()->SetTitleFont(42);
   Hmass1->GetYaxis()->SetTitle("Events");
   Hmass1->GetYaxis()->SetLabelFont(42);
   Hmass1->GetYaxis()->SetLabelSize(0.035);
   Hmass1->GetYaxis()->SetTitleSize(0.035);
   Hmass1->GetYaxis()->SetTitleFont(42);
   Hmass1->GetZaxis()->SetLabelFont(42);
   Hmass1->GetZaxis()->SetLabelSize(0.035);
   Hmass1->GetZaxis()->SetTitleSize(0.035);
   Hmass1->GetZaxis()->SetTitleFont(42);
   Hmass1->Draw("");
   
   TH1F *HmassReg2 = new TH1F("HmassReg2","H.mass  {Sum$(Jet_mcMatchId[hJCidx]==25)==2}",40,80,160);
   HmassReg2->SetBinContent(0,999);
   HmassReg2->SetBinContent(1,255);
   HmassReg2->SetBinContent(2,282);
   HmassReg2->SetBinContent(3,344);
   HmassReg2->SetBinContent(4,451);
   HmassReg2->SetBinContent(5,555);
   HmassReg2->SetBinContent(6,639);
   HmassReg2->SetBinContent(7,770);
   HmassReg2->SetBinContent(8,864);
   HmassReg2->SetBinContent(9,1002);
   HmassReg2->SetBinContent(10,1168);
   HmassReg2->SetBinContent(11,1462);
   HmassReg2->SetBinContent(12,1667);
   HmassReg2->SetBinContent(13,1864);
   HmassReg2->SetBinContent(14,2137);
   HmassReg2->SetBinContent(15,2451);
   HmassReg2->SetBinContent(16,2673);
   HmassReg2->SetBinContent(17,3015);
   HmassReg2->SetBinContent(18,3285);
   HmassReg2->SetBinContent(19,3617);
   HmassReg2->SetBinContent(20,3743);
   HmassReg2->SetBinContent(21,3779);
   HmassReg2->SetBinContent(22,3788);
   HmassReg2->SetBinContent(23,3859);
   HmassReg2->SetBinContent(24,3753);
   HmassReg2->SetBinContent(25,3413);
   HmassReg2->SetBinContent(26,3170);
   HmassReg2->SetBinContent(27,2736);
   HmassReg2->SetBinContent(28,2461);
   HmassReg2->SetBinContent(29,2077);
   HmassReg2->SetBinContent(30,1765);
   HmassReg2->SetBinContent(31,1476);
   HmassReg2->SetBinContent(32,1126);
   HmassReg2->SetBinContent(33,919);
   HmassReg2->SetBinContent(34,695);
   HmassReg2->SetBinContent(35,561);
   HmassReg2->SetBinContent(36,472);
   HmassReg2->SetBinContent(37,356);
   HmassReg2->SetBinContent(38,309);
   HmassReg2->SetBinContent(39,225);
   HmassReg2->SetBinContent(40,182);
   HmassReg2->SetBinContent(41,1465);
   HmassReg2->SetEntries(71830);
   HmassReg2->SetStats(0);
   
   TF1 *fit22 = new TF1("fit2","[0]*exp(-0.5*((x-[1])/[2])^2)*abs(x<=[1])+[0]*exp(-0.5*((x-[1])/[3])^2)*abs(x>[1])+[4]",92.19686,187.1485);
   fit22->SetFillColor(19);
   fit22->SetFillStyle(0);

   Int_t ci;      // for color index setting
   TColor *color; // for color definition with alpha
   ci = TColor::GetColor("#ff0000");
   fit22->SetLineColor(ci);
   fit22->SetLineWidth(2);
   fit22->SetChisquare(54.51553);
   fit22->SetNDF(29);
   fit22->GetXaxis()->SetLabelFont(42);
   fit22->GetXaxis()->SetLabelSize(0.035);
   fit22->GetXaxis()->SetTitleSize(0.035);
   fit22->GetXaxis()->SetTitleFont(42);
   fit22->GetYaxis()->SetLabelFont(42);
   fit22->GetYaxis()->SetLabelSize(0.035);
   fit22->GetYaxis()->SetTitleSize(0.035);
   fit22->GetYaxis()->SetTitleFont(42);
   fit22->SetParameter(0,3633.793);
   fit22->SetParError(0,20.83424);
   fit22->SetParLimits(0,0,0);
   fit22->SetParameter(1,123.641);
   fit22->SetParError(1,0.1896117);
   fit22->SetParLimits(1,0,0);
   fit22->SetParameter(2,15.56176);
   fit22->SetParError(2,0.161636);
   fit22->SetParLimits(2,0,0);
   fit22->SetParameter(3,11.98696);
   fit22->SetParError(3,0.1686945);
   fit22->SetParLimits(3,0,0);
   fit22->SetParameter(4,164.794);
   fit22->SetParError(4,11.72371);
   fit22->SetParLimits(4,0,0);
   HmassReg2->GetListOfFunctions()->Add(fit22);

   ci = TColor::GetColor("#ff0000");
   HmassReg2->SetLineColor(ci);
   HmassReg2->SetLineWidth(2);
   HmassReg2->GetXaxis()->SetLabelFont(42);
   HmassReg2->GetXaxis()->SetLabelSize(0.035);
   HmassReg2->GetXaxis()->SetTitleSize(0.035);
   HmassReg2->GetXaxis()->SetTitleFont(42);
   HmassReg2->GetYaxis()->SetLabelFont(42);
   HmassReg2->GetYaxis()->SetLabelSize(0.035);
   HmassReg2->GetYaxis()->SetTitleSize(0.035);
   HmassReg2->GetYaxis()->SetTitleFont(42);
   HmassReg2->GetZaxis()->SetLabelFont(42);
   HmassReg2->GetZaxis()->SetLabelSize(0.035);
   HmassReg2->GetZaxis()->SetTitleSize(0.035);
   HmassReg2->GetZaxis()->SetTitleFont(42);
   HmassReg2->Draw("same");
   
   TH1F *HFSRmassReg3 = new TH1F("HFSRmassReg3","HaddJetsdR08.mass  {Sum$(Jet_mcMatchId[hJCidx]==25)==2}",40,80,160);
   HFSRmassReg3->SetBinContent(0,517);
   HFSRmassReg3->SetBinContent(1,127);
   HFSRmassReg3->SetBinContent(2,156);
   HFSRmassReg3->SetBinContent(3,199);
   HFSRmassReg3->SetBinContent(4,248);
   HFSRmassReg3->SetBinContent(5,326);
   HFSRmassReg3->SetBinContent(6,384);
   HFSRmassReg3->SetBinContent(7,487);
   HFSRmassReg3->SetBinContent(8,574);
   HFSRmassReg3->SetBinContent(9,685);
   HFSRmassReg3->SetBinContent(10,834);
   HFSRmassReg3->SetBinContent(11,1062);
   HFSRmassReg3->SetBinContent(12,1249);
   HFSRmassReg3->SetBinContent(13,1465);
   HFSRmassReg3->SetBinContent(14,1684);
   HFSRmassReg3->SetBinContent(15,1973);
   HFSRmassReg3->SetBinContent(16,2276);
   HFSRmassReg3->SetBinContent(17,2592);
   HFSRmassReg3->SetBinContent(18,2861);
   HFSRmassReg3->SetBinContent(19,3201);
   HFSRmassReg3->SetBinContent(20,3451);
   HFSRmassReg3->SetBinContent(21,3536);
   HFSRmassReg3->SetBinContent(22,3559);
   HFSRmassReg3->SetBinContent(23,3694);
   HFSRmassReg3->SetBinContent(24,3638);
   HFSRmassReg3->SetBinContent(25,3418);
   HFSRmassReg3->SetBinContent(26,3208);
   HFSRmassReg3->SetBinContent(27,2801);
   HFSRmassReg3->SetBinContent(28,2577);
   HFSRmassReg3->SetBinContent(29,2271);
   HFSRmassReg3->SetBinContent(30,1966);
   HFSRmassReg3->SetBinContent(31,1673);
   HFSRmassReg3->SetBinContent(32,1334);
   HFSRmassReg3->SetBinContent(33,1158);
   HFSRmassReg3->SetBinContent(34,993);
   HFSRmassReg3->SetBinContent(35,781);
   HFSRmassReg3->SetBinContent(36,746);
   HFSRmassReg3->SetBinContent(37,576);
   HFSRmassReg3->SetBinContent(38,559);
   HFSRmassReg3->SetBinContent(39,465);
   HFSRmassReg3->SetBinContent(40,417);
   HFSRmassReg3->SetBinContent(41,6109);
   HFSRmassReg3->SetEntries(71830);
   HFSRmassReg3->SetStats(0);
   
   TF1 *fit33 = new TF1("fit3","[0]*exp(-0.5*((x-[1])/[2])^2)*abs(x<=[1])+[0]*exp(-0.5*((x-[1])/[3])^2)*abs(x>[1])+[4]",96.31708,177.7229);
   fit33->SetFillColor(19);
   fit33->SetFillStyle(0);

   ci = TColor::GetColor("#0000ff");
   fit33->SetLineColor(ci);
   fit33->SetLineWidth(2);
   fit33->SetChisquare(31.28212);
   fit33->SetNDF(27);
   fit33->GetXaxis()->SetLabelFont(42);
   fit33->GetXaxis()->SetLabelSize(0.035);
   fit33->GetXaxis()->SetTitleSize(0.035);
   fit33->GetXaxis()->SetTitleFont(42);
   fit33->GetYaxis()->SetLabelFont(42);
   fit33->GetYaxis()->SetLabelSize(0.035);
   fit33->GetYaxis()->SetTitleSize(0.035);
   fit33->GetYaxis()->SetTitleFont(42);
   fit33->SetParameter(0,3264.526);
   fit33->SetParError(0,22.39239);
   fit33->SetParLimits(0,0,0);
   fit33->SetParameter(1,124.1012);
   fit33->SetParError(1,0.2046093);
   fit33->SetParLimits(1,0,0);
   fit33->SetParameter(2,12.74221);
   fit33->SetParError(2,0.1694461);
   fit33->SetParLimits(2,0,0);
   fit33->SetParameter(3,12.34857);
   fit33->SetParError(3,0.2051981);
   fit33->SetParLimits(3,0,0);
   fit33->SetParameter(4,379.518);
   fit33->SetParError(4,16.57232);
   fit33->SetParLimits(4,0,0);
   HFSRmassReg3->GetListOfFunctions()->Add(fit33);

   ci = TColor::GetColor("#0000ff");
   HFSRmassReg3->SetLineColor(ci);
   HFSRmassReg3->SetLineWidth(2);
   HFSRmassReg3->GetXaxis()->SetLabelFont(42);
   HFSRmassReg3->GetXaxis()->SetLabelSize(0.035);
   HFSRmassReg3->GetXaxis()->SetTitleSize(0.035);
   HFSRmassReg3->GetXaxis()->SetTitleFont(42);
   HFSRmassReg3->GetYaxis()->SetLabelFont(42);
   HFSRmassReg3->GetYaxis()->SetLabelSize(0.035);
   HFSRmassReg3->GetYaxis()->SetTitleSize(0.035);
   HFSRmassReg3->GetYaxis()->SetTitleFont(42);
   HFSRmassReg3->GetZaxis()->SetLabelFont(42);
   HFSRmassReg3->GetZaxis()->SetLabelSize(0.035);
   HFSRmassReg3->GetZaxis()->SetTitleSize(0.035);
   HFSRmassReg3->GetZaxis()->SetTitleFont(42);
   HFSRmassReg3->Draw("same");
   
   TH1F *HmassStdReg4 = new TH1F("HmassStdReg4","HCSV_reg_mass  {Sum$(Jet_mcMatchId[hJCidx]==25)==2}",40,80,160);
   HmassStdReg4->SetBinContent(0,538);
   HmassStdReg4->SetBinContent(1,160);
   HmassStdReg4->SetBinContent(2,199);
   HmassStdReg4->SetBinContent(3,271);
   HmassStdReg4->SetBinContent(4,340);
   HmassStdReg4->SetBinContent(5,439);
   HmassStdReg4->SetBinContent(6,526);
   HmassStdReg4->SetBinContent(7,626);
   HmassStdReg4->SetBinContent(8,829);
   HmassStdReg4->SetBinContent(9,923);
   HmassStdReg4->SetBinContent(10,1097);
   HmassStdReg4->SetBinContent(11,1344);
   HmassStdReg4->SetBinContent(12,1578);
   HmassStdReg4->SetBinContent(13,1788);
   HmassStdReg4->SetBinContent(14,2047);
   HmassStdReg4->SetBinContent(15,2462);
   HmassStdReg4->SetBinContent(16,2865);
   HmassStdReg4->SetBinContent(17,3096);
   HmassStdReg4->SetBinContent(18,3494);
   HmassStdReg4->SetBinContent(19,3815);
   HmassStdReg4->SetBinContent(20,4086);
   HmassStdReg4->SetBinContent(21,4231);
   HmassStdReg4->SetBinContent(22,4272);
   HmassStdReg4->SetBinContent(23,4261);
   HmassStdReg4->SetBinContent(24,4011);
   HmassStdReg4->SetBinContent(25,3744);
   HmassStdReg4->SetBinContent(26,3369);
   HmassStdReg4->SetBinContent(27,3007);
   HmassStdReg4->SetBinContent(28,2422);
   HmassStdReg4->SetBinContent(29,2042);
   HmassStdReg4->SetBinContent(30,1586);
   HmassStdReg4->SetBinContent(31,1265);
   HmassStdReg4->SetBinContent(32,945);
   HmassStdReg4->SetBinContent(33,730);
   HmassStdReg4->SetBinContent(34,548);
   HmassStdReg4->SetBinContent(35,477);
   HmassStdReg4->SetBinContent(36,367);
   HmassStdReg4->SetBinContent(37,245);
   HmassStdReg4->SetBinContent(38,182);
   HmassStdReg4->SetBinContent(39,163);
   HmassStdReg4->SetBinContent(40,128);
   HmassStdReg4->SetBinContent(41,1312);
   HmassStdReg4->SetEntries(71830);
   HmassStdReg4->SetStats(0);
   
   TF1 *fit44 = new TF1("fit4","[0]*exp(-0.5*((x-[1])/[2])^2)*abs(x<=[1])+[0]*exp(-0.5*((x-[1])/[3])^2)*abs(x>[1])+[4]",94.27911,183.5467);
   fit44->SetFillColor(19);
   fit44->SetFillStyle(0);

   ci = TColor::GetColor("#00ff00");
   fit44->SetLineColor(ci);
   fit44->SetLineWidth(2);
   fit44->SetChisquare(95.92334);
   fit44->SetNDF(28);
   fit44->GetXaxis()->SetLabelFont(42);
   fit44->GetXaxis()->SetLabelSize(0.035);
   fit44->GetXaxis()->SetTitleSize(0.035);
   fit44->GetXaxis()->SetTitleFont(42);
   fit44->GetYaxis()->SetLabelFont(42);
   fit44->GetYaxis()->SetLabelSize(0.035);
   fit44->GetYaxis()->SetTitleSize(0.035);
   fit44->GetYaxis()->SetTitleFont(42);
   fit44->SetParameter(0,4048.574);
   fit44->SetParError(0,22.05524);
   fit44->SetParLimits(0,0,0);
   fit44->SetParameter(1,123.8984);
   fit44->SetParError(1,0.1649492);
   fit44->SetParLimits(1,0,0);
   fit44->SetParameter(2,14.60797);
   fit44->SetParError(2,0.1424239);
   fit44->SetParLimits(2,0,0);
   fit44->SetParameter(3,10.76073);
   fit44->SetParError(3,0.1336614);
   fit44->SetParLimits(3,0,0);
   fit44->SetParameter(4,135.8919);
   fit44->SetParError(4,8.224188);
   fit44->SetParLimits(4,0,0);
   HmassStdReg4->GetListOfFunctions()->Add(fit44);

   ci = TColor::GetColor("#00ff00");
   HmassStdReg4->SetLineColor(ci);
   HmassStdReg4->SetLineWidth(2);
   HmassStdReg4->GetXaxis()->SetLabelFont(42);
   HmassStdReg4->GetXaxis()->SetLabelSize(0.035);
   HmassStdReg4->GetXaxis()->SetTitleSize(0.035);
   HmassStdReg4->GetXaxis()->SetTitleFont(42);
   HmassStdReg4->GetYaxis()->SetLabelFont(42);
   HmassStdReg4->GetYaxis()->SetLabelSize(0.035);
   HmassStdReg4->GetYaxis()->SetTitleSize(0.035);
   HmassStdReg4->GetYaxis()->SetTitleFont(42);
   HmassStdReg4->GetZaxis()->SetLabelFont(42);
   HmassStdReg4->GetZaxis()->SetLabelSize(0.035);
   HmassStdReg4->GetZaxis()->SetTitleSize(0.035);
   HmassStdReg4->GetZaxis()->SetTitleFont(42);
   HmassStdReg4->Draw("same");
   
   TLegend *leg = new TLegend(0.1,0.7,0.35,0.9,NULL,"brNDC");
   leg->SetBorderSize(1);
   leg->SetLineColor(1);
   leg->SetLineStyle(1);
   leg->SetLineWidth(2);
   leg->SetFillColor(0);
   leg->SetFillStyle(1001);
   TLegendEntry *entry=leg->AddEntry("Hmass","baseline","l");
   entry->SetLineColor(1);
   entry->SetLineStyle(1);
   entry->SetLineWidth(2);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   entry=leg->AddEntry("HmassReg","regressed","l");

   ci = TColor::GetColor("#ff0000");
   entry->SetLineColor(ci);
   entry->SetLineStyle(1);
   entry->SetLineWidth(2);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   entry=leg->AddEntry("HmassStdReg","std. regression","l");

   ci = TColor::GetColor("#00ff00");
   entry->SetLineColor(ci);
   entry->SetLineStyle(1);
   entry->SetLineWidth(2);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   entry=leg->AddEntry("HFSRmassReg","withFSR+regr.","l");

   ci = TColor::GetColor("#0000ff");
   entry->SetLineColor(ci);
   entry->SetLineStyle(1);
   entry->SetLineWidth(2);
   entry->SetMarkerColor(1);
   entry->SetMarkerStyle(21);
   entry->SetMarkerSize(1);
   entry->SetTextFont(42);
   leg->Draw();
   
   TPaveText *pt = new TPaveText(0.2125705,0.935,0.7874295,0.995,"blNDC");
   pt->SetName("title");
   pt->SetBorderSize(0);
   pt->SetFillColor(0);
   pt->SetFillStyle(0);
   pt->SetLineWidth(2);
   pt->SetTextFont(42);
   TText *AText = pt->AddText("Reconstructed Higgs mass distribution");
   pt->Draw();
   c1->Modified();
   c1->cd();
   c1->SetSelected(c1);
}
