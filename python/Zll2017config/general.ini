#! ------------------------
#!! GENERAL CONFIGURATION
#!! -------------------------

[General]
#Set to True or False to display debug messages
Debug: True

dataset = 2017

btagidx0 = <!General|hJidx!>[0]
btagidx1 = <!General|hJidx!>[1]

;_*_*_*_*_*_*_*_*_*
#  REG/KINFIT     |
;_*_*_*_*_*_*_*_*_*

Htype = REG
;Htype = KINFIT
;KINFIT1 doesn't include events that failed during the kinfit
;Htype = KINFIT1


;H tag
Hbtag = H

[Configuration]
usePythonXrootD = True
outputTreeBasketSize = 8000
haddTargetNumEvents = 16000

# NanoAOD format
treeName = Events
countTreeName = genEventSumw
AllowDuplicateTrees = True
countsFromAutoPU = False

[Analysis]
tag = 13TeV

# flags below are NOT USED ANYMORE!!
# TODO: remove

# BDT to discriminate Signal and Background
#!! If this Flag is used then 50% of MC samples will go in training and the rest will be scaled up by a factor of 2.
#!! if you train on 50% but then set it to 'False' while writing DC, then you get your biased training samples in the limit!!!
#!! be sure to have this right !!!
;#When computing SF from CR, set this flag to false
;if one wants to use Mjj -> put to False
;Rescale MC by factor 2 if true
TrainFlag = True
;TrainFlag = False
;Current BDT FOM: Cls of train/vs CLs of test sample. To produce the DC on train sample, set this flag to True.
;!!!IMPORTANT: BE SURE TO HAVE "UseTrainSample = False" WHEN COMPUTING THE FINAL LIMIT !!!
UseTrainSample = False
;UseTrainSample = True
;ALWAYS set to False, unless training to produce correlation plots
Data_as_signal = False


[Prep]
VHbb = ['Prep.Clean', 'Prep.Selection', 'Sys.isData','Sys.isSignal','Sys.isWH','Sys.isZH','Sys.HeppyStyleGen','Sys.genBstatus','Sys.SampleGroup']
Clean = Drop.Drop(dropBranches=['HLT_*','TrigObj_*','nTrigObj','SubJet_*','nSubJet','Photon_*','nPhoton','Tau_*','nTau','nGenVisTau','GenVisTau_*','FatJet_*','nFatJet'],keepBranches=['HLT_Ele23_Ele12_CaloIdL_TrackIdL_Iso*','HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_Mass*','HLT_PFMET120_PFMHT120_IDTight','HLT_PFMET120_PFMHT120_IDTight_PFHT60','HLT_Ele32_WPTight_Gsf_L1DoubleEG','HLT_IsoMu27'])
Selection = VHbbSelection.VHbbSelection(year="2017", channels=["Zll"])

;;;;
;FOR SYS
;;;;
[Sys]
useTreeFriends = False

all = ['Sys.DropFatJet','Sys.DropTau','Sys.DropPhoton','Sys.DropSubJet','Sys.DropTrigObj','Sys.DropUnusedHLT','Sys.BTagWeightsPtEta','Sys.isData','Sys.electronSF','Sys.muonSF','Sys.Run2017BmuHLT','Sys.HiggsCandidateSystematics','Sys.vLeptons','Sys.EWKweights','Sys.DYspecialWeight', 'Sys.FitCorr', 'General.LOtoNLOweight', 'General.LOtoNLOweightPaper']

vLeptons = vLeptons.vLeptons()
isData = PerSampleWeight.PerSampleWeight(branchName='isData',affectedSampleNames=['SingleElectron','SingleMuon'],weightAffected=1.0,weightUnaffected=0.0)
isSignal = PerSampleWeight.PerSampleWeight(branchName='isSignal',affectedSampleNames=['WminusH','WplusH','ggZH_Zll','ZH_Zll','ZH_Znunu'],weightAffected=1.0,weightUnaffected=0.0)
isWH = PerSampleWeight.PerSampleWeight(branchName='isWH',affectedSampleNames=['WminusH','WplusH'],weightAffected=1.0,weightUnaffected=0.0)
isZH = PerSampleWeight.PerSampleWeight(branchName='isZH',affectedSampleNames=['ggZH_Zll','ZH_Zll','ZH_Znunu'],weightAffected=1.0,weightUnaffected=0.0)
HeppyStyleGen = HeppyStyleGen.HeppyStyleGen()
genBstatus = BranchTools.TreeFormulas({
    'nGenStatus2bHad': 'Sum$(abs(GenPart_pdgId)>=500 && abs(GenPart_pdgId)<600 && GenPart_status==2)+Sum$(abs(GenPart_pdgId)>=5000 && abs(GenPart_pdgId)<6000 && GenPart_status==2)',
    })

# weights
TTweights = TTWeights.TTWeights(nano=True)
muonSF = MuonSFfromJSON.MuonSFfromJSON(jsonFiles=['data/Zll/Muons/RunBCDEF_SF_ID.json','data/Zll/Muons/RunBCDEF_SF_ISO.json'], channel='Zll')
electronSF = ElectronSFfromJSON.ElectronSFfromJSON(jsonFiles=['data/Zll/Electrons/VHbb2ElectronIDISO2017.json','data/Zll/Electrons/VHbb2ElectronTriggerLeg12017.json','data/Zll/Electrons/VHbb2ElectronTriggerLeg22017.json'], branchName='electronSF', channel='Zll')
FitCorr = addFitCorr.addFitCorr(nano=True)
HiggsCandidateSystematics = HiggsCandidateSystematics.HiggsCandidateSystematics(addSystematics=True)
EWKweights = EWKweights.EWKweights(nano=True)
BTagWeightsPtEta = BTagWeightsNano2017.BTagWeights(calibName='DeepCSV',calibFile='data/btag/DeepCSV_94XSF_V2_B_F.csv',includeFixPtEtaBins=True)
PUweight = PUweight.PUweight(fileNameData='data/pu/2017/PU_Cert_294927-306462_13TeV_PromptReco_Collisions17_JSON.root',fileNameMC=None,fileNameDataUp='data/pu/2017/PU_Cert_294927-306462_13TeV_PromptReco_Collisions17_JSON_Up.root',fileNameDataDown='data/pu/2017/PU_Cert_294927-306462_13TeV_PromptReco_Collisions17_JSON_Down.root',puWeightName='puWeightAuto')
GetDoubleMuTriggWeight = GetDoubleMuTriggWeight.GetDoubleMuTriggWeight()
DYspecialWeight = DYspecialWeight.DYspecialWeight()

# clean-up
DropFatJet = Drop.Drop(dropBranches=['FatJet_*','nFatJet'])
DropTau = Drop.Drop(dropBranches=['Tau_*','nTau','nGenVisTau','GenVisTau_*'])
DropPhoton = Drop.Drop(dropBranches=['Photon_*','nPhoton'])
DropSubJet = Drop.Drop(dropBranches=['SubJet_*','nSubJet'])
DropTrigObj = Drop.Drop(dropBranches=['TrigObj_*','nTrigObj'])
DropMETsys = Drop.Drop(dropBranches=['MET_pt_j*','MET_phi_j*'])
DropUnusedHLT = Drop.Drop(dropBranches=['HLT_*'],keepBranches=['HLT_Ele23_Ele12_CaloIdL_TrackIdL_Iso*','HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_Mass*'])
Run2017BmuHLT = BranchTools.DefaultIfNotExisting(branchName='HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_Mass3p8',branchType='O',defaultValue=0)
Selection2017V2JERfix = Selection2017V2JERfix.Selection2017V2JERfix()

# kinematic fit
# needs special CMSSW version!!!
kinFitter = kinFitter.kinFitter()
Dropkinfit = Drop.Drop(dropBranches=['*fit*','kinfit*'])

; special sequences for JER un-smearing fix
; instead of 'prep' run sys with --addCollection Sys.prepJERfix
prepJERfix = ['Sys.DropMETsys','Sys.DropFatJet','Sys.DropTau','Sys.DropPhoton','Sys.DropSubJet','Sys.DropTrigObj','Sys.Selection2017V2JERfix','Sys.Run2017BmuHLT','Sys.vLeptons','Sys.isData']
sysJERfix = ['Sys.electronSF','Sys.muonSF','Sys.HiggsCandidateSystematics', 'Sys.PUweight','Sys.BTagWeightsJERfix']
; to add double mu SF

#testing new electronsF (vectors and split in eta)
eSF_test= ['Sys.electronSF']

# sampleIndex and region flag
regions = BranchTools.TreeFormulas({
    'isSR': '(kinFit.V_mass_fit > 75 && kinFit.V_mass_fit < 105 && (kinFit.H_mass_fit_fallback > 90 && kinFit.H_mass_fit_fallback < 150) && Jet_btagDeepB[hJidx[0]] > 0.1522 && Jet_btagDeepB[hJidx[1]] > 0.1522 && ((isZee||isZmm)&&(Jet_PtReg[hJidx[0]]>20&&Jet_PtReg[hJidx[1]]>20)&&(kinFit.kinfit_fit == 1))) && (kinFit.V_pt_fit > 50)', 
    'isTTCR': '(kinFit.V_mass_fit > 10 & (kinFit.V_mass_fit < 75 || kinFit.V_mass_fit > 120) & Jet_btagDeepB[hJidx[0]] > 0.8001 & Jet_btagDeepB[hJidx[1]] > 0.1522  & ((isZee||isZmm)&&(Jet_PtReg[hJidx[0]]>20&&Jet_PtReg[hJidx[1]]>20)&&(kinFit.kinfit_fit == 1))) && (kinFit.V_pt_fit > 50)',
    'isLFCR': '((kinFit.V_mass_fit>75. && kinFit.V_mass_fit<105. && Jet_btagDeepB[hJidx[0]] < 0.1522 && Jet_btagDeepB[hJidx[1]] < 0.1522 && abs(TVector2::Phi_mpi_pi(kinFit.H_phi_fit-kinFit.V_phi_fit)) > 2.5 && ((isZee||isZmm)&&(Jet_PtReg[hJidx[0]]>20&&Jet_PtReg[hJidx[1]]>20)&&(kinFit.kinfit_fit == 1))) && kinFit.V_pt_fit > 50) && (kinFit.H_mass_fit_fallback > 90 && kinFit.H_mass_fit_fallback < 150) && (kinFit.V_pt_fit > 50)',
    'isHFCR': '(abs(TVector2::Phi_mpi_pi(kinFit.H_phi_fit-kinFit.V_phi_fit)) > 2.5 && kinFit.V_mass_fit > 85. && kinFit.V_mass_fit < 97. && MET_Pt < 60 && (kinFit.H_mass_fit_fallback < 90 || kinFit.H_mass_fit_fallback > 150) && Jet_btagDeepB[hJidx[0]] > 0.8001 && Jet_btagDeepB[hJidx[1]] > 0.1522 && ((isZee||isZmm)&&(Jet_PtReg[hJidx[0]]>20&&Jet_PtReg[hJidx[1]]>20)&&(kinFit.kinfit_fit == 1)) && kinFit.V_pt_fit>50) && (kinFit.V_pt_fit > 50)' 
    })
SampleGroup = SampleGroup.SampleGroup()

[Eval]
all = ['Eval.lowPt','Eval.highPt']
# DNNs
lowPt = tensorflowEvaluator.tensorflowEvaluator(mvaName='ZllBDT_lowpt2017_18')
highPt = tensorflowEvaluator.tensorflowEvaluator(mvaName='ZllBDT_highpt2017_18')

#Need this for the plotting
[VHbbNameSpace]
library=<!Directories|vhbbpath!>/interface/VHbbNameSpace_h.so

;!! --------------------------
;!! SYSTEMATICS (shape)
;!! --------------------------
[systematics]

systematics = Nominal jer_Up jer_Down jerReg_Up jerReg_Down jesAbsoluteStat_Up jesAbsoluteStat_Down jesAbsoluteScale_Up jesAbsoluteScale_Down jesAbsoluteFlavMap_Up jesAbsoluteFlavMap_Down jesAbsoluteMPFBias_Up jesAbsoluteMPFBias_Down jesFragmentation_Up jesFragmentation_Down jesSinglePionECAL_Up jesSinglePionECAL_Down jesSinglePionHCAL_Up jesSinglePionHCAL_Down jesFlavorQCD_Up jesFlavorQCD_Down jesRelativeJEREC1_Up jesRelativeJEREC1_Down jesRelativeJEREC2_Up jesRelativeJEREC2_Down jesRelativeJERHF_Up jesRelativeJERHF_Down jesRelativePtBB_Up jesRelativePtBB_Down jesRelativePtEC1_Up jesRelativePtEC1_Down jesRelativePtEC2_Up jesRelativePtEC2_Down jesRelativePtHF_Up jesRelativePtHF_Down jesRelativeBal_Up jesRelativeBal_Down jesRelativeFSR_Up jesRelativeFSR_Down jesRelativeStatFSR_Up jesRelativeStatFSR_Down jesRelativeStatEC_Up jesRelativeStatEC_Down jesRelativeStatHF_Up jesRelativeStatHF_Down jesPileUpDataMC_Up jesPileUpDataMC_Down jesPileUpPtRef_Up jesPileUpPtRef_Down jesPileUpPtBB_Up jesPileUpPtBB_Down jesPileUpPtEC1_Up jesPileUpPtEC1_Down jesPileUpPtEC2_Up jesPileUpPtEC2_Down jesPileUpPtHF_Up jesPileUpPtHF_Down jesPileUpMuZero_Up jesPileUpMuZero_Down jesPileUpEnvelope_Up jesPileUpEnvelope_Down jesTotal_Up jesTotal_Down

[Weights]

;_*_*_*_
;Nominal
;_*_*_*_

muTrigWeight     = ((Vtype==1&&HLT_Ele23_Ele12_CaloIdL_TrackIdL_IsoVL_DZ) + (Vtype==0)*(4.767/41.298*HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_Mass8 + 36.531/41.298*HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_Mass3p8))
# double muon scale factors broken in 2017
#muonWeight       = <!Weights|muTrigWeight!>*muonSF_Iso[0]*muonSF_Id[0]*DoubleMu[0]
muonWeight       = <!Weights|muTrigWeight!>*muonSF_Iso[0]*muonSF_Id[0]
electronWeight   = electronSF_IdIso[0]*electronSF_trigger[0]
leptonWeight     = <!Weights|muonWeight!>*<!Weights|electronWeight!>
bTagWeight       = bTagWeightDeepCSV
puWeight         = puWeight
genWeight        = genWeight
#nloWeight        = ((1.0-isDY)+isDY*VHbb::LOtoNLOWeightBjetSplitEtabb(abs(Jet_eta[hJidx[0]]-Jet_eta[hJidx[1]]),Sum$(GenJet_pt>20 && abs(GenJet_eta)<2.4 && GenJet_hadronFlavour==5)))
nloWeight        = weightLOtoNLO_paper 
ewkWeight        = EWKw[0]
; top pt reweighting
FitCorr          = FitCorr[0]

; use the per sample defined special weight from config
;When True, uses special weight from samples_nosplit.ini
;useSpecialWeight        = True
useSpecialWeight        = False

stitchingWeights_False  = DY_specialWeight 
stitchingWeights_True   = 1.0
stitchingWeights        = <!Weights|stitchingWeights_<!.|useSpecialWeight!>!>

weightF = <!Weights|genWeight!>*<!Weights|puWeight!>*<!Weights|stitchingWeights!>*<!Weights|leptonWeight!>*<!Weights|bTagWeight!>*<!Weights|ewkWeight!>*<!Weights|nloWeight!>*<!Weights|FitCorr!>

weight_noPU: <!Weights|genWeight!>*<!Weights|leptonWeight!>*<!Weights|stitchingWeights!>*<!Weights|bTagWeight!>*<!Weights|ewkWeight!>*<!Weights|nloWeight!>*<!Weights|FitCorr!>
weight_noLepSF: <!Weights|genWeight!>*<!Weights|puWeight!>*<!Weights|stitchingWeights!>*<!Weights|bTagWeight!>*<!Weights|ewkWeight!>*<!Weights|nloWeight!>*<!Weights|FitCorr!>
weight_noEWK:  <!Weights|genWeight!>*<!Weights|puWeight!>*<!Weights|leptonWeight!>*<!Weights|stitchingWeights!>*<!Weights|bTagWeight!>*<!Weights|nloWeight!>*<!Weights|FitCorr!>
weight_noNLO: <!Weights|genWeight!>*<!Weights|puWeight!>*<!Weights|leptonWeight!>*<!Weights|stitchingWeights!>*<!Weights|bTagWeight!>*<!Weights|ewkWeight!>*<!Weights|FitCorr!>
weight_noBTag: <!Weights|genWeight!>*<!Weights|puWeight!>*<!Weights|leptonWeight!>*<!Weights|stitchingWeights!>*<!Weights|ewkWeight!>*<!Weights|nloWeight!>*<!Weights|FitCorr!>
weight_noFitCorr: <!Weights|genWeight!>*<!Weights|puWeight!>*<!Weights|stitchingWeights!>*<!Weights|leptonWeight!>*<!Weights|bTagWeight!>*<!Weights|ewkWeight!>*<!Weights|nloWeight!> 
;;;
;Weight SYS
;;;

CMS_vhbb_topptreweighting_13TeV_DOWN: <!Weights|weight_noFitCorr!>*FitCorr[1]
CMS_vhbb_topptreweighting_13TeV_UP:   <!Weights|weight_noFitCorr!>*FitCorr[2]

;NLO weight: use full correction as uncertainty
CMS_vhbb_vjetnlodetajjrw_13TeV_UP:        <!Weights|weight_noNLO!>*(1.0 + 2.0*(<!Weights|nloWeight!> - 1.0))
CMS_vhbb_vjetnlodetajjrw_13TeV_DOWN:      <!Weights|weight_noNLO!>

CMS_vhbb_vjetnlodetajjrw_13TeV_Zj0b_UP:   <!Weights|weight_noNLO!>*(1.0 + 2.0*(<!Weights|nloWeight!> - 1.0))
CMS_vhbb_vjetnlodetajjrw_13TeV_Zj0b_DOWN: <!Weights|weight_noNLO!>
CMS_vhbb_vjetnlodetajjrw_13TeV_Zj1b_UP:   <!Weights|weight_noNLO!>*(1.0 + 2.0*(<!Weights|nloWeight!> - 1.0))
CMS_vhbb_vjetnlodetajjrw_13TeV_Zj1b_DOWN: <!Weights|weight_noNLO!>
CMS_vhbb_vjetnlodetajjrw_13TeV_Zj2b_UP:   <!Weights|weight_noNLO!>*(1.0 + 2.0*(<!Weights|nloWeight!> - 1.0))
CMS_vhbb_vjetnlodetajjrw_13TeV_Zj2b_DOWN: <!Weights|weight_noNLO!>

;PileUp
CMS_vhbb_puWeight_UP: <!Weights|weight_noPU!> * puWeightUp 
CMS_vhbb_puWeight_DOWN: <!Weights|weight_noPU!> * puWeightDown

;LHE
CMS_LHE_weights_scale_muR_ZH_UP:  <!Weights|weightF!>*LHEScaleWeight[7]
CMS_LHE_weights_scale_muR_ggZH_UP:  <!Weights|weightF!>*LHEScaleWeight[7]
CMS_LHE_weights_scale_muR_TT_UP:  <!Weights|weightF!>*LHEScaleWeight[7]
CMS_LHE_weights_scale_muR_Zj0b_UP:  <!Weights|weightF!>*LHEScaleWeight[7]
CMS_LHE_weights_scale_muR_Zj1b_UP:  <!Weights|weightF!>*LHEScaleWeight[7]
CMS_LHE_weights_scale_muR_Zj2b_UP:  <!Weights|weightF!>*LHEScaleWeight[7]
CMS_LHE_weights_scale_muR_VVHF_UP:  <!Weights|weightF!>*LHEScaleWeight[7]
CMS_LHE_weights_scale_muR_VVLF_UP:  <!Weights|weightF!>*LHEScaleWeight[7]
CMS_LHE_weights_scale_muR_ZH_DOWN: <!Weights|weightF!>*LHEScaleWeight[1]
CMS_LHE_weights_scale_muR_ggZH_DOWN: <!Weights|weightF!>*LHEScaleWeight[1]
CMS_LHE_weights_scale_muR_TT_DOWN: <!Weights|weightF!>*LHEScaleWeight[1]
CMS_LHE_weights_scale_muR_Zj0b_DOWN: <!Weights|weightF!>*LHEScaleWeight[1]
CMS_LHE_weights_scale_muR_Zj1b_DOWN: <!Weights|weightF!>*LHEScaleWeight[1]
CMS_LHE_weights_scale_muR_Zj2b_DOWN: <!Weights|weightF!>*LHEScaleWeight[1]
CMS_LHE_weights_scale_muR_VVHF_DOWN: <!Weights|weightF!>*LHEScaleWeight[1]
CMS_LHE_weights_scale_muR_VVLF_DOWN: <!Weights|weightF!>*LHEScaleWeight[1]

CMS_LHE_weights_scale_muF_ZH_UP: <!Weights|weightF!>*LHEScaleWeight[5]
CMS_LHE_weights_scale_muF_ggZH_UP: <!Weights|weightF!>*LHEScaleWeight[5]
CMS_LHE_weights_scale_muF_TT_UP: <!Weights|weightF!>*LHEScaleWeight[5]
CMS_LHE_weights_scale_muF_Zj0b_UP: <!Weights|weightF!>*LHEScaleWeight[5]
CMS_LHE_weights_scale_muF_Zj1b_UP: <!Weights|weightF!>*LHEScaleWeight[5]
CMS_LHE_weights_scale_muF_Zj2b_UP: <!Weights|weightF!>*LHEScaleWeight[5]
CMS_LHE_weights_scale_muF_VVHF_UP: <!Weights|weightF!>*LHEScaleWeight[5]
CMS_LHE_weights_scale_muF_VVLF_UP: <!Weights|weightF!>*LHEScaleWeight[5]
CMS_LHE_weights_scale_muF_ZH_DOWN: <!Weights|weightF!>*LHEScaleWeight[3]
CMS_LHE_weights_scale_muF_ggZH_DOWN: <!Weights|weightF!>*LHEScaleWeight[3]
CMS_LHE_weights_scale_muF_TT_DOWN: <!Weights|weightF!>*LHEScaleWeight[3]
CMS_LHE_weights_scale_muF_Zj0b_DOWN: <!Weights|weightF!>*LHEScaleWeight[3]
CMS_LHE_weights_scale_muF_Zj1b_DOWN: <!Weights|weightF!>*LHEScaleWeight[3]
CMS_LHE_weights_scale_muF_Zj2b_DOWN: <!Weights|weightF!>*LHEScaleWeight[3]
CMS_LHE_weights_scale_muF_VVHF_DOWN: <!Weights|weightF!>*LHEScaleWeight[3]
CMS_LHE_weights_scale_muF_VVLF_DOWN: <!Weights|weightF!>*LHEScaleWeight[3]

;btag (Up)

btagWeight_jes_pt0_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt0_eta1Up
btagWeight_jes_pt0_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt0_eta2Up
btagWeight_jes_pt0_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt0_eta3Up
btagWeight_jes_pt1_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt1_eta1Up
btagWeight_jes_pt1_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt1_eta2Up
btagWeight_jes_pt1_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt1_eta3Up
btagWeight_jes_pt2_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt2_eta1Up
btagWeight_jes_pt2_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt2_eta2Up
btagWeight_jes_pt2_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt2_eta3Up
btagWeight_jes_pt3_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt3_eta1Up
btagWeight_jes_pt3_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt3_eta2Up
btagWeight_jes_pt3_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt3_eta3Up
btagWeight_jes_pt4_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt4_eta1Up
btagWeight_jes_pt4_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt4_eta2Up
btagWeight_jes_pt4_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt4_eta3Up
;
btagWeight_lf_pt0_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt0_eta1Up
btagWeight_lf_pt0_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt0_eta2Up
btagWeight_lf_pt0_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt0_eta3Up
btagWeight_lf_pt1_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt1_eta1Up
btagWeight_lf_pt1_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt1_eta2Up
btagWeight_lf_pt1_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt1_eta3Up
btagWeight_lf_pt2_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt2_eta1Up
btagWeight_lf_pt2_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt2_eta2Up
btagWeight_lf_pt2_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt2_eta3Up
btagWeight_lf_pt3_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt3_eta1Up
btagWeight_lf_pt3_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt3_eta2Up
btagWeight_lf_pt3_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt3_eta3Up
btagWeight_lf_pt4_eta1_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt4_eta1Up
btagWeight_lf_pt4_eta2_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt4_eta2Up
btagWeight_lf_pt4_eta3_UP:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt4_eta3Up

btagWeight_hf_pt0_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt0_eta1Up
btagWeight_hf_pt0_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt0_eta2Up
btagWeight_hf_pt0_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt0_eta3Up
btagWeight_hf_pt1_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt1_eta1Up
btagWeight_hf_pt1_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt1_eta2Up
btagWeight_hf_pt1_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt1_eta3Up
btagWeight_hf_pt2_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt2_eta1Up
btagWeight_hf_pt2_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt2_eta2Up
btagWeight_hf_pt2_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt2_eta3Up
btagWeight_hf_pt3_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt3_eta1Up
btagWeight_hf_pt3_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt3_eta2Up
btagWeight_hf_pt3_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt3_eta3Up
btagWeight_hf_pt4_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt4_eta1Up
btagWeight_hf_pt4_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt4_eta2Up
btagWeight_hf_pt4_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt4_eta3Up

btagWeight_lfstats1_pt0_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt0_eta1Up
btagWeight_lfstats1_pt0_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt0_eta2Up
btagWeight_lfstats1_pt0_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt0_eta3Up
btagWeight_lfstats1_pt1_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt1_eta1Up
btagWeight_lfstats1_pt1_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt1_eta2Up
btagWeight_lfstats1_pt1_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt1_eta3Up
btagWeight_lfstats1_pt2_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt2_eta1Up
btagWeight_lfstats1_pt2_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt2_eta2Up
btagWeight_lfstats1_pt2_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt2_eta3Up
btagWeight_lfstats1_pt3_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt3_eta1Up
btagWeight_lfstats1_pt3_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt3_eta2Up
btagWeight_lfstats1_pt3_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt3_eta3Up
btagWeight_lfstats1_pt4_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt4_eta1Up
btagWeight_lfstats1_pt4_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt4_eta2Up
btagWeight_lfstats1_pt4_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt4_eta3Up

btagWeight_lfstats2_pt0_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt0_eta1Up
btagWeight_lfstats2_pt0_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt0_eta2Up
btagWeight_lfstats2_pt0_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt0_eta3Up
btagWeight_lfstats2_pt1_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt1_eta1Up
btagWeight_lfstats2_pt1_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt1_eta2Up
btagWeight_lfstats2_pt1_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt1_eta3Up
btagWeight_lfstats2_pt2_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt2_eta1Up
btagWeight_lfstats2_pt2_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt2_eta2Up
btagWeight_lfstats2_pt2_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt2_eta3Up
btagWeight_lfstats2_pt3_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt3_eta1Up
btagWeight_lfstats2_pt3_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt3_eta2Up
btagWeight_lfstats2_pt3_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt3_eta3Up
btagWeight_lfstats2_pt4_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt4_eta1Up
btagWeight_lfstats2_pt4_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt4_eta2Up
btagWeight_lfstats2_pt4_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt4_eta3Up

btagWeight_hfstats1_pt0_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt0_eta1Up
btagWeight_hfstats1_pt0_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt0_eta2Up
btagWeight_hfstats1_pt0_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt0_eta3Up
btagWeight_hfstats1_pt1_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt1_eta1Up
btagWeight_hfstats1_pt1_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt1_eta2Up
btagWeight_hfstats1_pt1_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt1_eta3Up
btagWeight_hfstats1_pt2_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt2_eta1Up
btagWeight_hfstats1_pt2_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt2_eta2Up
btagWeight_hfstats1_pt2_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt2_eta3Up
btagWeight_hfstats1_pt3_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt3_eta1Up
btagWeight_hfstats1_pt3_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt3_eta2Up
btagWeight_hfstats1_pt3_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt3_eta3Up
btagWeight_hfstats1_pt4_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt4_eta1Up
btagWeight_hfstats1_pt4_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt4_eta2Up
btagWeight_hfstats1_pt4_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt4_eta3Up

btagWeight_hfstats2_pt0_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt0_eta1Up
btagWeight_hfstats2_pt0_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt0_eta2Up
btagWeight_hfstats2_pt0_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt0_eta3Up
btagWeight_hfstats2_pt1_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt1_eta1Up
btagWeight_hfstats2_pt1_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt1_eta2Up
btagWeight_hfstats2_pt1_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt1_eta3Up
btagWeight_hfstats2_pt2_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt2_eta1Up
btagWeight_hfstats2_pt2_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt2_eta2Up
btagWeight_hfstats2_pt2_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt2_eta3Up
btagWeight_hfstats2_pt3_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt3_eta1Up
btagWeight_hfstats2_pt3_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt3_eta2Up
btagWeight_hfstats2_pt3_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt3_eta3Up
btagWeight_hfstats2_pt4_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt4_eta1Up
btagWeight_hfstats2_pt4_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt4_eta2Up
btagWeight_hfstats2_pt4_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt4_eta3Up

btagWeight_cferr1_pt0_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt0_eta1Up
btagWeight_cferr1_pt0_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt0_eta2Up
btagWeight_cferr1_pt0_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt0_eta3Up
btagWeight_cferr1_pt1_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt1_eta1Up
btagWeight_cferr1_pt1_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt1_eta2Up
btagWeight_cferr1_pt1_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt1_eta3Up
btagWeight_cferr1_pt2_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt2_eta1Up
btagWeight_cferr1_pt2_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt2_eta2Up
btagWeight_cferr1_pt2_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt2_eta3Up
btagWeight_cferr1_pt3_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt3_eta1Up
btagWeight_cferr1_pt3_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt3_eta2Up
btagWeight_cferr1_pt3_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt3_eta3Up
btagWeight_cferr1_pt4_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt4_eta1Up
btagWeight_cferr1_pt4_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt4_eta2Up
btagWeight_cferr1_pt4_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt4_eta3Up

btagWeight_cferr2_pt0_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt0_eta1Up
btagWeight_cferr2_pt0_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt0_eta2Up
btagWeight_cferr2_pt0_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt0_eta3Up
btagWeight_cferr2_pt1_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt1_eta1Up
btagWeight_cferr2_pt1_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt1_eta2Up
btagWeight_cferr2_pt1_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt1_eta3Up
btagWeight_cferr2_pt2_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt2_eta1Up
btagWeight_cferr2_pt2_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt2_eta2Up
btagWeight_cferr2_pt2_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt2_eta3Up
btagWeight_cferr2_pt3_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt3_eta1Up
btagWeight_cferr2_pt3_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt3_eta2Up
btagWeight_cferr2_pt3_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt3_eta3Up
btagWeight_cferr2_pt4_eta1_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt4_eta1Up
btagWeight_cferr2_pt4_eta2_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt4_eta2Up
btagWeight_cferr2_pt4_eta3_UP:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt4_eta3Up

;btag (Down)
btagWeight_jes_pt0_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt0_eta1Down
btagWeight_jes_pt0_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt0_eta2Down
btagWeight_jes_pt0_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt0_eta3Down
btagWeight_jes_pt1_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt1_eta1Down
btagWeight_jes_pt1_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt1_eta2Down
btagWeight_jes_pt1_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt1_eta3Down
btagWeight_jes_pt2_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt2_eta1Down
btagWeight_jes_pt2_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt2_eta2Down
btagWeight_jes_pt2_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt2_eta3Down
btagWeight_jes_pt3_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt3_eta1Down
btagWeight_jes_pt3_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt3_eta2Down
btagWeight_jes_pt3_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt3_eta3Down
btagWeight_jes_pt4_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt4_eta1Down
btagWeight_jes_pt4_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt4_eta2Down
btagWeight_jes_pt4_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_JES_pt4_eta3Down
;
btagWeight_lf_pt0_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt0_eta1Down
btagWeight_lf_pt0_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt0_eta2Down
btagWeight_lf_pt0_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt0_eta3Down
btagWeight_lf_pt1_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt1_eta1Down
btagWeight_lf_pt1_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt1_eta2Down
btagWeight_lf_pt1_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt1_eta3Down
btagWeight_lf_pt2_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt2_eta1Down
btagWeight_lf_pt2_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt2_eta2Down
btagWeight_lf_pt2_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt2_eta3Down
btagWeight_lf_pt3_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt3_eta1Down
btagWeight_lf_pt3_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt3_eta2Down
btagWeight_lf_pt3_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt3_eta3Down
btagWeight_lf_pt4_eta1_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt4_eta1Down
btagWeight_lf_pt4_eta2_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt4_eta2Down
btagWeight_lf_pt4_eta3_DOWN:    <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LF_pt4_eta3Down

btagWeight_hf_pt0_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt0_eta1Down
btagWeight_hf_pt0_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt0_eta2Down
btagWeight_hf_pt0_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt0_eta3Down
btagWeight_hf_pt1_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt1_eta1Down
btagWeight_hf_pt1_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt1_eta2Down
btagWeight_hf_pt1_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt1_eta3Down
btagWeight_hf_pt2_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt2_eta1Down
btagWeight_hf_pt2_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt2_eta2Down
btagWeight_hf_pt2_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt2_eta3Down
btagWeight_hf_pt3_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt3_eta1Down
btagWeight_hf_pt3_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt3_eta2Down
btagWeight_hf_pt3_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt3_eta3Down
btagWeight_hf_pt4_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt4_eta1Down
btagWeight_hf_pt4_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt4_eta2Down
btagWeight_hf_pt4_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HF_pt4_eta3Down

btagWeight_lfstats1_pt0_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt0_eta1Down
btagWeight_lfstats1_pt0_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt0_eta2Down
btagWeight_lfstats1_pt0_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt0_eta3Down
btagWeight_lfstats1_pt1_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt1_eta1Down
btagWeight_lfstats1_pt1_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt1_eta2Down
btagWeight_lfstats1_pt1_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt1_eta3Down
btagWeight_lfstats1_pt2_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt2_eta1Down
btagWeight_lfstats1_pt2_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt2_eta2Down
btagWeight_lfstats1_pt2_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt2_eta3Down
btagWeight_lfstats1_pt3_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt3_eta1Down
btagWeight_lfstats1_pt3_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt3_eta2Down
btagWeight_lfstats1_pt3_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt3_eta3Down
btagWeight_lfstats1_pt4_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt4_eta1Down
btagWeight_lfstats1_pt4_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt4_eta2Down
btagWeight_lfstats1_pt4_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats1_pt4_eta3Down

btagWeight_lfstats2_pt0_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt0_eta1Down
btagWeight_lfstats2_pt0_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt0_eta2Down
btagWeight_lfstats2_pt0_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt0_eta3Down
btagWeight_lfstats2_pt1_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt1_eta1Down
btagWeight_lfstats2_pt1_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt1_eta2Down
btagWeight_lfstats2_pt1_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt1_eta3Down
btagWeight_lfstats2_pt2_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt2_eta1Down
btagWeight_lfstats2_pt2_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt2_eta2Down
btagWeight_lfstats2_pt2_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt2_eta3Down
btagWeight_lfstats2_pt3_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt3_eta1Down
btagWeight_lfstats2_pt3_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt3_eta2Down
btagWeight_lfstats2_pt3_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt3_eta3Down
btagWeight_lfstats2_pt4_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt4_eta1Down
btagWeight_lfstats2_pt4_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt4_eta2Down
btagWeight_lfstats2_pt4_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_LFStats2_pt4_eta3Down

btagWeight_hfstats1_pt0_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt0_eta1Down
btagWeight_hfstats1_pt0_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt0_eta2Down
btagWeight_hfstats1_pt0_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt0_eta3Down
btagWeight_hfstats1_pt1_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt1_eta1Down
btagWeight_hfstats1_pt1_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt1_eta2Down
btagWeight_hfstats1_pt1_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt1_eta3Down
btagWeight_hfstats1_pt2_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt2_eta1Down
btagWeight_hfstats1_pt2_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt2_eta2Down
btagWeight_hfstats1_pt2_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt2_eta3Down
btagWeight_hfstats1_pt3_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt3_eta1Down
btagWeight_hfstats1_pt3_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt3_eta2Down
btagWeight_hfstats1_pt3_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt3_eta3Down
btagWeight_hfstats1_pt4_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt4_eta1Down
btagWeight_hfstats1_pt4_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt4_eta2Down
btagWeight_hfstats1_pt4_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats1_pt4_eta3Down

btagWeight_hfstats2_pt0_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt0_eta1Down
btagWeight_hfstats2_pt0_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt0_eta2Down
btagWeight_hfstats2_pt0_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt0_eta3Down
btagWeight_hfstats2_pt1_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt1_eta1Down
btagWeight_hfstats2_pt1_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt1_eta2Down
btagWeight_hfstats2_pt1_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt1_eta3Down
btagWeight_hfstats2_pt2_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt2_eta1Down
btagWeight_hfstats2_pt2_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt2_eta2Down
btagWeight_hfstats2_pt2_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt2_eta3Down
btagWeight_hfstats2_pt3_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt3_eta1Down
btagWeight_hfstats2_pt3_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt3_eta2Down
btagWeight_hfstats2_pt3_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt3_eta3Down
btagWeight_hfstats2_pt4_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt4_eta1Down
btagWeight_hfstats2_pt4_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt4_eta2Down
btagWeight_hfstats2_pt4_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_HFStats2_pt4_eta3Down

btagWeight_cferr1_pt0_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt0_eta1Down
btagWeight_cferr1_pt0_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt0_eta2Down
btagWeight_cferr1_pt0_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt0_eta3Down
btagWeight_cferr1_pt1_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt1_eta1Down
btagWeight_cferr1_pt1_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt1_eta2Down
btagWeight_cferr1_pt1_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt1_eta3Down
btagWeight_cferr1_pt2_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt2_eta1Down
btagWeight_cferr1_pt2_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt2_eta2Down
btagWeight_cferr1_pt2_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt2_eta3Down
btagWeight_cferr1_pt3_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt3_eta1Down
btagWeight_cferr1_pt3_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt3_eta2Down
btagWeight_cferr1_pt3_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt3_eta3Down
btagWeight_cferr1_pt4_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt4_eta1Down
btagWeight_cferr1_pt4_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt4_eta2Down
btagWeight_cferr1_pt4_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr1_pt4_eta3Down

btagWeight_cferr2_pt0_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt0_eta1Down
btagWeight_cferr2_pt0_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt0_eta2Down
btagWeight_cferr2_pt0_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt0_eta3Down
btagWeight_cferr2_pt1_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt1_eta1Down
btagWeight_cferr2_pt1_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt1_eta2Down
btagWeight_cferr2_pt1_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt1_eta3Down
btagWeight_cferr2_pt2_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt2_eta1Down
btagWeight_cferr2_pt2_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt2_eta2Down
btagWeight_cferr2_pt2_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt2_eta3Down
btagWeight_cferr2_pt3_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt3_eta1Down
btagWeight_cferr2_pt3_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt3_eta2Down
btagWeight_cferr2_pt3_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt3_eta3Down
btagWeight_cferr2_pt4_eta1_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt4_eta1Down
btagWeight_cferr2_pt4_eta2_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt4_eta2Down
btagWeight_cferr2_pt4_eta3_DOWN:   <!Weights|weight_noBTag!>*<!Weights|bTagWeight!>_cErr2_pt4_eta3Down


CMS_vhbb_eff_e_trigger_Zll_13TeV_DOWN:    <!Weights|weight_noLepSF!>*<!Weights|muonWeight!>*electronSF_IdIso[0]*electronSF_trigger[1]
CMS_vhbb_eff_e_MVAID_Zll_13TeV_DOWN:      <!Weights|weight_noLepSF!>*<!Weights|muonWeight!>*electronSF_IdIso[1]*electronSF_trigger[0]
CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV_DOWN: <!Weights|weight_noLepSF!>*<!Weights|muonWeight!>*electronSF_IdIso_B[0]*electronSF_trigger[0]
CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV_DOWN: <!Weights|weight_noLepSF!>*<!Weights|muonWeight!>*electronSF_IdIso_E[0]*electronSF_trigger[0]


CMS_vhbb_eff_e_trigger_Zll_13TeV_UP:    <!Weights|weight_noLepSF!>*<!Weights|muonWeight!>*electronSF_IdIso[0]*electronSF_trigger[2]
CMS_vhbb_eff_e_MVAID_Zll_13TeV_UP:      <!Weights|weight_noLepSF!>*<!Weights|muonWeight!>*electronSF_IdIso[2]*electronSF_trigger[0]
CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV_UP: <!Weights|weight_noLepSF!>*<!Weights|muonWeight!>*electronSF_IdIso_B[1]*electronSF_trigger[0]
CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV_UP: <!Weights|weight_noLepSF!>*<!Weights|muonWeight!>*electronSF_IdIso_E[1]*electronSF_trigger[0]


# sys for the m need to be configured
CMS_vhbb_eff_m_trigger_Zll_13TeV_DOWN: <!Weights|weight_noLepSF!>*<!Weights|electronWeight!>*muonSF_Iso[0]*muonSF_Id[0]
CMS_vhbb_eff_m_ISO_Zll_13TeV_DOWN:     <!Weights|weight_noLepSF!>*<!Weights|electronWeight!>*muonSF_Iso[1]*muonSF_Id[0]
CMS_vhbb_eff_m_MVAID_Zll_13TeV_DOWN:   <!Weights|weight_noLepSF!>*<!Weights|electronWeight!>*muonSF_Iso[0]*muonSF_Id[1]
CMS_vhbb_eff_m_tracker_Zll_13TeV_DOWN: <!Weights|weight_noLepSF!>*<!Weights|electronWeight!>*muonSF_Iso[0]*muonSF_Id[0]

CMS_vhbb_eff_m_trigger_Zll_13TeV_UP: <!Weights|weight_noLepSF!>*<!Weights|electronWeight!>*muonSF_Iso[0]*muonSF_Id[0]
CMS_vhbb_eff_m_ISO_Zll_13TeV_UP:     <!Weights|weight_noLepSF!>*<!Weights|electronWeight!>*muonSF_Iso[2]*muonSF_Id[0]
CMS_vhbb_eff_m_MVAID_Zll_13TeV_UP:   <!Weights|weight_noLepSF!>*<!Weights|electronWeight!>*muonSF_Iso[0]*muonSF_Id[2]
CMS_vhbb_eff_m_tracker_Zll_13TeV_UP: <!Weights|weight_noLepSF!>*<!Weights|electronWeight!>*muonSF_Iso[0]*muonSF_Id[0]


;;EWK signal
CMS_vhbb_signal_ewk_13TeV_DOWN:    <!Weights|weight_noEWK!>*EWKwSIG[1]*EWKwVJets[0]
CMS_vhbb_signal_ewk_13TeV_UP:      <!Weights|weight_noEWK!>*EWKwSIG[2]*EWKwVJets[0]


[Branches]
;branch that should always be kept in the Nutples
keep_branches = ['is*', 'run', 'event', 'luminosityBlock', 'sampleIndex', 'genWeight', 'puWeight', 'V_*','EWKwVJets', 'LHE_Njets', 'LHE_HT', 'LHE_Nb', 'LHE_Vpt', 'LHE_Nuds', 'LHE_Nc', 'Vtype', 'vLidx', 'HLT_Mu17_TrkIsoVVL_Mu8_TrkIsoVVL_DZ_Mass*', 'HLT_Ele23_Ele12_CaloIdL_TrackIdL_Iso*', 'GenJet_pt', 'GenJet_eta', 'GenJet_hadronFlavour', 'genWeight','electronSF','muonSF','bTagWeightDeepCSV*','Pileup_nTrueInt', 'fixedGridRhoFastjetAll','*BDT*','puWeightDown','puWeightUp','btagWeight_DeepCSVB','nGenStatus2bHad','GenPart*','DY_specialWeight','weightLO*']

keep_branches_plot = []

