#!! ---------------------------------------------------
#!! LIMIT
#!! config to configure datacard and workspace writing
#!! ----------------------------------------------------

[LimitGeneral]
#!! --------------------------------------
##!! Binning:
##!! --------------------------------------

HMassRange = 12,60,180
EtabbRange = 32,0,5
btagrange = 50,0,1
BDTrange = 15,-1,1

;DNN
;BDTrange = 15,0,1
;IMPORTANT: this has to be exacly the same as the variable in vhbbPlotDef for the pre/postfit macro to work
;
;Ragne for mjj datacards
;MassRange = 12,60,180
Mass = H_mass
MassRange = 17,0,255
MassRangeVV = 34,0, 255

;;;;;;
;Variable to plot
;;;;;;

;New
;MVA
bTagVar = <!Cuts|Jet_btag!>[<!Cuts|btagidx1!>]
;BDT VH
;BDTlow = ZllBDT_lowptDeepCSV.Nominal
;BDThigh = ZllBDT_highptDeepCSV.Nominal
;;DNN
;BDTlow = dnn15low.Nominal
;BDThigh = dnn15high.Nominal
;BDTlow = ZllBDT_lowpt<!General|btagMethod!>.Nominal
;BDThigh = ZllBDT_highpt<!General|btagMethod!>.Nominal

BDTlow = ZllBDT_lowpt_DNN2017.Nominal
BDThigh = ZllBDT_highpt_DNN2017.Nominal 

;BDT VV
BDTVVlow = ZllBDTVV_lowpt.Nominal
BDTVVhigh = ZllBDTVV_highpt.Nominal
CSVrange = 15,0,1

;!! --------------------------------------
;!! Systematics
;!! --------------------------------------

remove_systematics = True

;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*
;FOR CR
;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*
;sys_cr = []
;staMS_vhbb_eff_e_13TeV
sys_cr = [
#includive sys
    'jesTotal',
#Default
    'jer',
    'jesAbsoluteStat',
    'jesAbsoluteScale',
    'jesAbsoluteFlavMap',
    'jesAbsoluteMPFBias',
    'jesFragmentation',
    'jesSinglePionECAL',
    'jesSinglePionHCAL',
    'jesFlavorQCD',
    'jesRelativeJEREC1',
    'jesRelativeJEREC2',
    'jesRelativeJERHF',
    'jesRelativePtBB',
    'jesRelativePtEC1',
    'jesRelativePtEC2',
    'jesRelativePtHF',
    'jesRelativeBal',
    'jesRelativeFSR',
    'jesRelativeStatFSR',
    'jesRelativeStatEC',
    'jesRelativeStatHF',
    'jesPileUpDataMC',
    'jesPileUpPtRef',
    'jesPileUpPtBB',
    'jesPileUpPtEC1',
    'jesPileUpPtEC2',
    'jesPileUpPtHF',
    'jesPileUpMuZero',
    'jesPileUpEnvelope',
    ]

sys_BDT = <!LimitGeneral|sys_cr!>
sys_Mjj = <!LimitGeneral|sys_cr!>

weightF_sys = [
; LO to NLO weight
;    'CMS_vhbb_DY_NLO_weight',
; LO to NLO weight decorrelated
    'CMS_vhbb_DY_NLO_weight_Zj0b',
    'CMS_vhbb_DY_NLO_weight_Zj1b',
    'CMS_vhbb_DY_NLO_weight_Zj2b',
; Pileup
    'PileupWeight',
; LHE scale
    'CMS_vhbb_LHE_weights_scale_muR_ZH',
    'CMS_vhbb_LHE_weights_scale_muR_ggZH',
    'CMS_vhbb_LHE_weights_scale_muR_TT',
    'CMS_vhbb_LHE_weights_scale_muR_Zj0b',
    'CMS_vhbb_LHE_weights_scale_muR_Zj1b',
    'CMS_vhbb_LHE_weights_scale_muR_Zj2b',
    'CMS_vhbb_LHE_weights_scale_muF_ZH',
    'CMS_vhbb_LHE_weights_scale_muF_ggZH',
    'CMS_vhbb_LHE_weights_scale_muF_TT',
    'CMS_vhbb_LHE_weights_scale_muF_Zj0b',
    'CMS_vhbb_LHE_weights_scale_muF_Zj1b',
    'CMS_vhbb_LHE_weights_scale_muF_Zj2b',
; EWK signal correction
    'sigEWK',
; electron SF
    'CMS_vhbb_eff_e_trigger_Zll_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV',
; muon SF
;   'CMS_vhbb_eff_m_trigger_Zll_13TeV',
    'CMS_vhbb_eff_m_ISO_Zll_13TeV',
    'CMS_vhbb_eff_m_MVAID_Zll_13TeV',
;   'CMS_vhbb_eff_m_tracker_Zll_13TeV',
; btag
    'btagWeight_jes_pt0_eta1',
    'btagWeight_jes_pt0_eta2',
    'btagWeight_jes_pt0_eta3',
    'btagWeight_jes_pt1_eta1',
    'btagWeight_jes_pt1_eta2',
    'btagWeight_jes_pt1_eta3',
    'btagWeight_jes_pt2_eta1',
    'btagWeight_jes_pt2_eta2',
    'btagWeight_jes_pt2_eta3',
    'btagWeight_jes_pt3_eta1',
    'btagWeight_jes_pt3_eta2',
    'btagWeight_jes_pt3_eta3',
    'btagWeight_jes_pt4_eta1',
    'btagWeight_jes_pt4_eta2',
;
    'btagWeight_lf_pt0_eta1',
    'btagWeight_lf_pt0_eta2',
    'btagWeight_lf_pt0_eta3',
    'btagWeight_lf_pt1_eta1',
    'btagWeight_lf_pt1_eta2',
    'btagWeight_lf_pt1_eta3',
    'btagWeight_lf_pt2_eta1',
    'btagWeight_lf_pt2_eta2',
    'btagWeight_lf_pt2_eta3',
    'btagWeight_lf_pt3_eta1',
    'btagWeight_lf_pt3_eta2',
    'btagWeight_lf_pt3_eta3',
    'btagWeight_lf_pt4_eta1',
    'btagWeight_lf_pt4_eta2',
    'btagWeight_lf_pt4_eta3',
;
    'btagWeight_hf_pt0_eta1',
    'btagWeight_hf_pt0_eta2',
    'btagWeight_hf_pt0_eta3',
    'btagWeight_hf_pt1_eta1',
    'btagWeight_hf_pt1_eta2',
    'btagWeight_hf_pt1_eta3',
    'btagWeight_hf_pt2_eta1',
    'btagWeight_hf_pt2_eta2',
    'btagWeight_hf_pt2_eta3',
    'btagWeight_hf_pt3_eta1',
    'btagWeight_hf_pt3_eta2',
    'btagWeight_hf_pt3_eta3',
    'btagWeight_hf_pt4_eta1',
    'btagWeight_hf_pt4_eta2',
    'btagWeight_hf_pt4_eta3',
;
    'btagWeight_lfstats1_pt0_eta1',
    'btagWeight_lfstats1_pt0_eta2',
    'btagWeight_lfstats1_pt0_eta3',
    'btagWeight_lfstats1_pt1_eta1',
    'btagWeight_lfstats1_pt1_eta2',
    'btagWeight_lfstats1_pt1_eta3',
    'btagWeight_lfstats1_pt2_eta1',
    'btagWeight_lfstats1_pt2_eta2',
    'btagWeight_lfstats1_pt2_eta3',
    'btagWeight_lfstats1_pt3_eta1',
    'btagWeight_lfstats1_pt3_eta2',
    'btagWeight_lfstats1_pt3_eta3',
    'btagWeight_lfstats1_pt4_eta1',
    'btagWeight_lfstats1_pt4_eta2',
    'btagWeight_lfstats1_pt4_eta3',
;
    'btagWeight_lfstats2_pt0_eta1',
    'btagWeight_lfstats2_pt0_eta2',
    'btagWeight_lfstats2_pt0_eta3',
    'btagWeight_lfstats2_pt1_eta1',
    'btagWeight_lfstats2_pt1_eta2',
    'btagWeight_lfstats2_pt1_eta3',
    'btagWeight_lfstats2_pt2_eta1',
    'btagWeight_lfstats2_pt2_eta2',
    'btagWeight_lfstats2_pt2_eta3',
    'btagWeight_lfstats2_pt3_eta1',
    'btagWeight_lfstats2_pt3_eta2',
    'btagWeight_lfstats2_pt3_eta3',
    'btagWeight_lfstats2_pt4_eta1',
    'btagWeight_lfstats2_pt4_eta2',
    'btagWeight_lfstats2_pt4_eta3',
;
    'btagWeight_hfstats1_pt0_eta1',
    'btagWeight_hfstats1_pt0_eta2',
    'btagWeight_hfstats1_pt0_eta3',
    'btagWeight_hfstats1_pt1_eta1',
    'btagWeight_hfstats1_pt1_eta2',
    'btagWeight_hfstats1_pt1_eta3',
    'btagWeight_hfstats1_pt2_eta1',
    'btagWeight_hfstats1_pt2_eta2',
    'btagWeight_hfstats1_pt2_eta3',
    'btagWeight_hfstats1_pt3_eta1',
    'btagWeight_hfstats1_pt3_eta2',
    'btagWeight_hfstats1_pt3_eta3',
    'btagWeight_hfstats1_pt4_eta1',
    'btagWeight_hfstats1_pt4_eta2',
    'btagWeight_hfstats1_pt4_eta3',
;
    'btagWeight_hfstats2_pt0_eta1',
    'btagWeight_hfstats2_pt0_eta2',
    'btagWeight_hfstats2_pt0_eta3',
    'btagWeight_hfstats2_pt1_eta1',
    'btagWeight_hfstats2_pt1_eta2',
    'btagWeight_hfstats2_pt1_eta3',
    'btagWeight_hfstats2_pt2_eta1',
    'btagWeight_hfstats2_pt2_eta2',
    'btagWeight_hfstats2_pt2_eta3',
    'btagWeight_hfstats2_pt3_eta1',
    'btagWeight_hfstats2_pt3_eta2',
    'btagWeight_hfstats2_pt3_eta3',
    'btagWeight_hfstats2_pt4_eta1',
    'btagWeight_hfstats2_pt4_eta2',
    'btagWeight_hfstats2_pt4_eta3',
;
    'btagWeight_cferr1_pt0_eta1',
    'btagWeight_cferr1_pt0_eta2',
    'btagWeight_cferr1_pt0_eta3',
    'btagWeight_cferr1_pt1_eta1',
    'btagWeight_cferr1_pt1_eta2',
    'btagWeight_cferr1_pt1_eta3',
    'btagWeight_cferr1_pt2_eta1',
    'btagWeight_cferr1_pt2_eta2',
    'btagWeight_cferr1_pt2_eta3',
    'btagWeight_cferr1_pt3_eta1',
    'btagWeight_cferr1_pt3_eta2',
    'btagWeight_cferr1_pt3_eta3',
    'btagWeight_cferr1_pt4_eta1',
    'btagWeight_cferr1_pt4_eta2',
    'btagWeight_cferr2_pt4_eta3'
    ]

rebin_active = True
;rebin_active = False 

;use looser cuts for caching and then cut tight when producing the datacard. Speed up if minmax branches are present
;useMinmaxCuts = True
useMinmaxCuts = False

;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*
;Common
;_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*_*

;!! configuration of systematics effects and behaviour
sys_factor = {
    'jesTotal':1.0,
    'jer':1.0,
    'jesAbsoluteStat':1.0,
    'jesAbsoluteScale':1.0,
    'jesAbsoluteFlavMap':1.0,
    'jesAbsoluteMPFBias':1.0,
    'jesFragmentation':1.0,
    'jesSinglePionECAL':1.0,
    'jesSinglePionHCAL':1.0,
    'jesFlavorQCD':1.0,
    'jesRelativeJEREC1':1.0,
    'jesRelativeJEREC2':1.0,
    'jesRelativeJERHF':1.0,
    'jesRelativePtBB':1.0,
    'jesRelativePtEC1':1.0,
    'jesRelativePtEC2':1.0,
    'jesRelativePtHF':1.0,
    'jesRelativeBal':1.0,
    'jesRelativeFSR':1.0,
    'jesRelativeStatFSR':1.0,
    'jesRelativeStatEC':1.0,
    'jesRelativeStatHF':1.0,
    'jesPileUpDataMC':1.0,
    'jesPileUpPtRef':1.0,
    'jesPileUpPtBB':1.0,
    'jesPileUpPtEC1':1.0,
    'jesPileUpPtEC2':1.0,
    'jesPileUpPtHF':1.0,
    'jesPileUpMuZero':1.0,
    'jesPileUpEnvelope':1.0,
    }
;now
affecting_all = ['qqZHbb','DYlight','DY2b','DY1b','TT','ggZHbb','ZHbb','Zbb','Zb','Z_udscg','VV','VVlight','VV2b']
sys_affecting = {'jesTotal':<!LimitGeneral|affecting_all!>,'jer':<!LimitGeneral|affecting_all!>,'jesAbsoluteStat':<!LimitGeneral|affecting_all!>,'jesAbsoluteScale':<!LimitGeneral|affecting_all!>,'jesAbsoluteFlavMap':<!LimitGeneral|affecting_all!>,'jesAbsoluteMPFBias':<!LimitGeneral|affecting_all!>,'jesFragmentation':<!LimitGeneral|affecting_all!>,'jesSinglePionECAL':<!LimitGeneral|affecting_all!>,'jesSinglePionHCAL':<!LimitGeneral|affecting_all!>,'jesFlavorQCD':<!LimitGeneral|affecting_all!>,'jesRelativeJEREC1':<!LimitGeneral|affecting_all!>,'jesRelativeJEREC2':<!LimitGeneral|affecting_all!>,'jesRelativeJERHF':<!LimitGeneral|affecting_all!>,'jesRelativePtBB':<!LimitGeneral|affecting_all!>,'jesRelativePtEC1':<!LimitGeneral|affecting_all!>,'jesRelativePtEC2':<!LimitGeneral|affecting_all!>,'jesRelativePtHF':<!LimitGeneral|affecting_all!>,'jesRelativeBal':<!LimitGeneral|affecting_all!>,'jesRelativeFSR':<!LimitGeneral|affecting_all!>,'jesRelativeStatFSR':<!LimitGeneral|affecting_all!>,'jesRelativeStatEC':<!LimitGeneral|affecting_all!>,'jesRelativeStatHF':<!LimitGeneral|affecting_all!>,'jesPileUpDataMC':<!LimitGeneral|affecting_all!>,'jesPileUpPtRef':<!LimitGeneral|affecting_all!>,'jesPileUpPtBB':<!LimitGeneral|affecting_all!>,'jesPileUpPtEC1':<!LimitGeneral|affecting_all!>,'jesPileUpPtEC2':<!LimitGeneral|affecting_all!>,'jesPileUpPtHF':<!LimitGeneral|affecting_all!>,'jesPileUpMuZero':<!LimitGeneral|affecting_all!>,'jesPileUpEnvelope':<!LimitGeneral|affecting_all!>}
# kin fit
replace_cut_KINFIT1 = [
        'kinFit.H_mass_fit_fallback>kinFit.H_mass_fit_fallback*H_mass_{syst}_{UD}/H_mass', 
        'kinFit.H_phi_fit_fallback>kinFit.H_phi_fit_fallback*H_phi_{syst}_{UD}/H_phi', 
        'Jet_Pt[hJidx[0]]>Jet_pt_{syst}{UD}[hJidx[0]]',
        'Jet_Pt[hJidx[1]]>Jet_pt_{syst}{UD}[hJidx[1]]',
        'Jet_Pt[hJidxCMVA[0]]>Jet_pt_{syst}{UD}[hJidxCMVA[0]]',
        'Jet_Pt[hJidxCMVA[1]]>Jet_pt_{syst}{UD}[hJidxCMVA[1]]',
        'Jet_PtReg[hJidx[0]]>Jet_PtReg[hJidx[0]]*Jet_pt_{syst}{UD}[hJidx[0]]/Jet_Pt[hJidx[0]]',
        'Jet_PtReg[hJidx[1]]>Jet_PtReg[hJidx[1]]*Jet_pt_{syst}{UD}[hJidx[1]]/Jet_Pt[hJidx[1]]',
        'Jet_PtReg[hJidxCMVA[0]]>Jet_PtReg[hJidxCMVA[0]]*Jet_pt_{syst}{UD}[hJidxCMVA[0]]/Jet_Pt[hJidxCMVA[0]]',
        'Jet_PtReg[hJidxCMVA[1]]>Jet_PtReg[hJidxCMVA[1]]*Jet_pt_{syst}{UD}[hJidxCMVA[1]]/Jet_Pt[hJidxCMVA[1]]',
        'Jet_mass>Jet_mass_{syst}{UD}', 
        'kinFit.H_pt_fit_fallback>kinFit.H_pt_fit_fallback*H_pt_{syst}_{UD}/H_pt', 
        'kinFit.H_eta_fit_fallback>kinFit.H_eta_fit_fallback*H_eta_{syst}_{UD}/H_eta'
    ]

replace_cut_KINFIT1 = [
        'kinFit.H_mass_fit_fallback>kinFit.H_mass_fit_fallback*H_mass_{syst}_{UD}/H_mass', 
        'kinFit.H_phi_fit>kinFit.H_phi_fit*H_phi_{syst}_{UD}/H_phi', 
        'Jet_Pt[hJidx[0]]>Jet_pt_{syst}{UD}[hJidx[0]]',
        'Jet_Pt[hJidx[1]]>Jet_pt_{syst}{UD}[hJidx[1]]',
        'Jet_Pt[hJidxCMVA[0]]>Jet_pt_{syst}{UD}[hJidxCMVA[0]]',
        'Jet_Pt[hJidxCMVA[1]]>Jet_pt_{syst}{UD}[hJidxCMVA[1]]',
        'Jet_PtReg[hJidx[0]]>Jet_PtReg[hJidx[0]]*Jet_pt_{syst}{UD}[hJidx[0]]/Jet_Pt[hJidx[0]]',
        'Jet_PtReg[hJidx[1]]>Jet_PtReg[hJidx[1]]*Jet_pt_{syst}{UD}[hJidx[1]]/Jet_Pt[hJidx[1]]',
        'Jet_PtReg[hJidxCMVA[0]]>Jet_PtReg[hJidxCMVA[0]]*Jet_pt_{syst}{UD}[hJidxCMVA[0]]/Jet_Pt[hJidxCMVA[0]]',
        'Jet_PtReg[hJidxCMVA[1]]>Jet_PtReg[hJidxCMVA[1]]*Jet_pt_{syst}{UD}[hJidxCMVA[1]]/Jet_Pt[hJidxCMVA[1]]',
        'Jet_mass>Jet_mass_{syst}{UD}', 
        'kinFit.H_pt_fit_fallback>kinFit.H_pt_fit_fallback*H_pt_{syst}_{UD}/H_pt', 
        'kinFit.H_eta_fit>kinFit.H_eta_fit*H_eta_{syst}_{UD}/H_eta'
    ]


replace_cut_KINFIT1_test = [
        'kinFit.H_mass_fit_fallback>kinFit_{syst}{UD}.H_mass_fit_fallback', 
        'kinFit.H_phi_fit>kinFit_{syst}{UD}.H_phi_fit', 
        'Jet_Pt[hJidx[0]]>Jet_pt_{syst}{UD}[hJidx[0]]',
        'Jet_Pt[hJidx[1]]>Jet_pt_{syst}{UD}[hJidx[1]]',
        'Jet_Pt[hJidxCMVA[0]]>Jet_pt_{syst}{UD}[hJidxCMVA[0]]',
        'Jet_Pt[hJidxCMVA[1]]>Jet_pt_{syst}{UD}[hJidxCMVA[1]]',
        'Jet_PtReg[hJidx[0]]>Jet_PtReg[hJidx[0]]*Jet_pt_{syst}{UD}[hJidx[0]]/Jet_Pt[hJidx[0]]',
        'Jet_PtReg[hJidx[1]]>Jet_PtReg[hJidx[1]]*Jet_pt_{syst}{UD}[hJidx[1]]/Jet_Pt[hJidx[1]]',
        'Jet_PtReg[hJidxCMVA[0]]>Jet_PtReg[hJidxCMVA[0]]*Jet_pt_{syst}{UD}[hJidxCMVA[0]]/Jet_Pt[hJidxCMVA[0]]',
        'Jet_PtReg[hJidxCMVA[1]]>Jet_PtReg[hJidxCMVA[1]]*Jet_pt_{syst}{UD}[hJidxCMVA[1]]/Jet_Pt[hJidxCMVA[1]]',
        'Jet_mass>Jet_mass_{syst}{UD}', 
        'kinFit.H_pt_fit_fallback>kinFit_{syst}{UD}.H_pt_fit_fallback', 
        'kinFit.H_eta_fit>kinFit_{syst}_{UD}.H_eta_fit'
    ]

replace_cut_REG = [
        'H_mass>H_mass_{syst}_{UD}', 
        'H_phi>H_phi_{syst}_{UD}', 
        'Jet_Pt[hJidx[0]]>Jet_pt_{syst}{UD}[hJidx[0]]',
        'Jet_Pt[hJidx[1]]>Jet_pt_{syst}{UD}[hJidx[1]]',
        'Jet_Pt[hJidxCMVA[0]]>Jet_pt_{syst}{UD}[hJidxCMVA[0]]',
        'Jet_Pt[hJidxCMVA[1]]>Jet_pt_{syst}{UD}[hJidxCMVA[1]]',
        'Jet_PtReg[hJidx[0]]>Jet_PtReg[hJidx[0]]*Jet_pt_{syst}{UD}[hJidx[0]]/Jet_Pt[hJidx[0]]',
        'Jet_PtReg[hJidx[1]]>Jet_PtReg[hJidx[1]]*Jet_pt_{syst}{UD}[hJidx[1]]/Jet_Pt[hJidx[1]]',
        'Jet_PtReg[hJidxCMVA[0]]>Jet_PtReg[hJidxCMVA[0]]*Jet_pt_{syst}{UD}[hJidxCMVA[0]]/Jet_Pt[hJidxCMVA[0]]',
        'Jet_PtReg[hJidxCMVA[1]]>Jet_PtReg[hJidxCMVA[1]]*Jet_pt_{syst}{UD}[hJidxCMVA[1]]/Jet_Pt[hJidxCMVA[1]]',
        'Jet_mass>Jet_mass_{syst}{UD}', 
        'H_pt>H_pt_{syst}_{UD}', 
        'H_eta>H_eta_{syst}_{UD}'
    ]
replace_cut = <!LimitGeneral|replace_cut_<!General|Htype!>!>

sys_cut_suffix = {'jesTotal':<!LimitGeneral|replace_cut!>,'jer':<!LimitGeneral|replace_cut!>,'jesAbsoluteStat':<!LimitGeneral|replace_cut!>,'jesAbsoluteScale':<!LimitGeneral|replace_cut!>,'jesAbsoluteFlavMap':<!LimitGeneral|replace_cut!>,'jesAbsoluteMPFBias':<!LimitGeneral|replace_cut!>,'jesFragmentation':<!LimitGeneral|replace_cut!>,'jesSinglePionECAL':<!LimitGeneral|replace_cut!>,'jesSinglePionHCAL':<!LimitGeneral|replace_cut!>,'jesFlavorQCD':<!LimitGeneral|replace_cut!>,'jesRelativeJEREC1':<!LimitGeneral|replace_cut!>,'jesRelativeJEREC2':<!LimitGeneral|replace_cut!>,'jesRelativeJERHF':<!LimitGeneral|replace_cut!>,'jesRelativePtBB':<!LimitGeneral|replace_cut!>,'jesRelativePtEC1':<!LimitGeneral|replace_cut!>,'jesRelativePtEC2':<!LimitGeneral|replace_cut!>,'jesRelativePtHF':<!LimitGeneral|replace_cut!>,'jesRelativeBal':<!LimitGeneral|replace_cut!>,'jesRelativeFSR':<!LimitGeneral|replace_cut!>,'jesRelativeStatFSR':<!LimitGeneral|replace_cut!>,'jesRelativeStatEC':<!LimitGeneral|replace_cut!>,'jesRelativeStatHF':<!LimitGeneral|replace_cut!>,'jesPileUpDataMC':<!LimitGeneral|replace_cut!>,'jesPileUpPtRef':<!LimitGeneral|replace_cut!>,'jesPileUpPtBB':<!LimitGeneral|replace_cut!>,'jesPileUpPtEC1':<!LimitGeneral|replace_cut!>,'jesPileUpPtEC2':<!LimitGeneral|replace_cut!>,'jesPileUpPtHF':<!LimitGeneral|replace_cut!>,'jesPileUpMuZero':<!LimitGeneral|replace_cut!>,'jesPileUpEnvelope':<!LimitGeneral|replace_cut!>}

# for 2017 nano JER smearing fix
#sys_cut_dict = dict(list({'H_'+x+'>':'H_mass_{syst}_{Up}>' for x in ['pt','eta','phi','mass']}.items())+list({'H_'+x+'<':'H_mass_{syst}_{Down}<' for x in ['pt','eta','phi','mass']}.items())+[('(Jet_PtFixed[hJidx[0]]/Jet_pt[hJidx[0]])>','(Jet_pt_{syst}{Up}[hJidx[0]]/Jet_pt[hJidx[0]])>'),('(Jet_PtFixed[hJidx[1]]/Jet_pt[hJidx[1]])>','(Jet_pt_{syst}{Up}[hJidx[1]]/Jet_pt[hJidx[1]])>'),('(Jet_PtFixed[hJidx[0]]/Jet_pt[hJidx[0]])<','(Jet_pt_{syst}{Down}[hJidx[0]]/Jet_pt[hJidx[0]])<'),('(Jet_PtFixed[hJidx[1]]/Jet_pt[hJidx[1]])<','(Jet_pt_{syst}{Down}[hJidx[1]]/Jet_pt[hJidx[1]])<')])

sys_cut_dict_KINFIT1 = {
        'Jet_PtReg[hJidx[0]]>': 'Jet_PtReg[hJidx[0]]*Jet_pt_{syst}{Up}[hJidx[0]]/Jet_Pt[hJidx[0]]>',
        'Jet_PtReg[hJidx[0]]<': 'Jet_PtReg[hJidx[0]]*Jet_pt_{syst}{Down}[hJidx[0]]/Jet_Pt[hJidx[0]]<',
        'Jet_PtReg[hJidx[1]]>': 'Jet_PtReg[hJidx[1]]*Jet_pt_{syst}{Up}[hJidx[1]]/Jet_Pt[hJidx[1]]>',
        'Jet_PtReg[hJidx[1]]<': 'Jet_PtReg[hJidx[1]]*Jet_pt_{syst}{Down}[hJidx[1]]/Jet_Pt[hJidx[1]]<',
        'kinFit.H_mass_fit_fallback>': 'kinFit.H_mass_fit_fallback*H_mass_{syst}_{Up}/H_mass>',
        'kinFit.H_mass_fit_fallback<': 'kinFit.H_mass_fit_fallback*H_mass_{syst}_{Down}/H_mass<',
        'kinFit.H_pt_fit_fallback>': 'kinFit.H_pt_fit_fallback*H_pt_{syst}_{Up}/H_pt>',
        'kinFit.H_pt_fit_fallback<': 'kinFit.H_pt_fit_fallback*H_pt_{syst}_{Down}/H_pt<',
        'kinFit.H_eta_fit>': 'kinFit.H_eta_fit*H_eta_{syst}_{Up}/H_eta>',
        'kinFit.H_eta_fit<': 'kinFit.H_eta_fit*H_eta_{syst}_{Down}/H_eta<',
        'kinFit.H_phi_fit>': 'kinFit.H_phi_fit*H_phi_{syst}_{Up}/H_phi>',
        'kinFit.H_phi_fit<': 'kinFit.H_phi_fit*H_phi_{syst}_{Down}/H_phi<',
    }
sys_cut_dict = <!LimitGeneral|sys_cut_dict_<!General|Htype!>!>


sys_weight_corr ={}
ggZH_ShowerShape = [
    ['ggZH_HToBB_ZToLL_M125_pow_ext1','ggZH_HToBB_ZToLL_M125_pow_ext2'],
    ['ggZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Down'],
    ['ggZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Up']]
ZH_ShowerShape = [
    ['ZH_HToBB_ZToLL_M125_pow','ZH_HToBB_ZToLL_M125_pow_ext1'],
    ['ZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Down'],
    ['ZH_HToBB_ZToLL_M125_13TeV_powheg_pythia8_CUETP8M1Up']]

decorrelate_sys_weight = {
    'CMS_vhbb_LHE_weights_scale_muR_ZH':['qqZHbb'],
    'CMS_vhbb_LHE_weights_scale_muR_ggZH':['ggZHbb'],
    'CMS_vhbb_LHE_weights_scale_muR_TT':['TT'],
    'CMS_vhbb_LHE_weights_scale_muR_Zj0b':['Z_udscg'],
    'CMS_vhbb_LHE_weights_scale_muR_Zj1b':['Zb'],
    'CMS_vhbb_LHE_weights_scale_muR_Zj2b':['Zbb'],
    'CMS_vhbb_LHE_weights_scale_muF_ZH':['qqZHbb'],
    'CMS_vhbb_LHE_weights_scale_muF_ggZH':['ggZHbb'],
    'CMS_vhbb_LHE_weights_scale_muF_TT':['TT'],
    'CMS_vhbb_LHE_weights_scale_muF_Zj0b':['Z_udscg'],
    'CMS_vhbb_LHE_weights_scale_muF_Zj1b':['Zb'],
    'CMS_vhbb_LHE_weights_scale_muF_Zj2b':['Zbb'],
    'CMS_vhbb_DY_NLO_weight_Zj0b':['Z_udscg'],
    'CMS_vhbb_DY_NLO_weight_Zj1b':['Zb'],
    'CMS_vhbb_DY_NLO_weight_Zj2b':['Zbb'],
    'sigEWK':['qqZHbb']}
sys_cut_include = []

#!! --------------------------------------
##!! Options
##!! --------------------------------------
#!! rescale stat shapes by sqrtN
rescaleSqrtN: False
#!! blind Data
blind: True
;blind: False 
#!! toy Data
toy: False
#! bin-by-bin statistics (sqrtN doesn't apply). Put False for CR/True for BDT
;(Defined above)
binstat: True
;binstat: False
#!! no stat shapes at all: Put True for CR/False for BDT
;(Defined above)
ignore_stats: False
;ignore_stats: True
#!! inject signal, e.g. ZH125 (working?)
signal_inject: False
#!! add signal als BKG, e.g. ZH125 (working?)
add_signal_as_bkg: None


;!! --------------------------------------
;#!! Samples
;#!! --------------------------------------
;#!! Datacard samples setup (1st Signal, afterwards BKG)

;VH
setup: ['qqZHbb','ggZHbb','Z_udscg','Zb','Zbb','TT','VVlight','VV2b','ST']
setupSignals: ['qqZHbb','ggZHbb']

Group = {
;Data
    'DoubleEG': 'DATA',
    'DoubleMuon': 'DATA',
;Signal
    'ZH': 'qqZHbb',
    'ggZH': 'ggZHbb',
;Drell-Yan
    'Z1Jets_Zm10to50_udscg':'Z_udscg','Z1Jets_Zm10to50_1b':'Zb','Z1Jets_Zm10to50_2b':'Zbb',\
    'Z2Jets_Zm10to50_udscg':'Z_udscg','Z2Jets_Zm10to50_1b':'Zb','Z2Jets_Zm10to50_2b':'Zbb',\
    'Z3Jets_Zm10to50_udscg':'Z_udscg','Z3Jets_Zm10to50_1b':'Zb','Z3Jets_Zm10to50_2b':'Zbb',\
;    'M4HT70to100_udscg':'Z_udscg','M4HT70to100_1b':'Zb','M4HT70to100_2b':'Zbb',\
    'M4HT100to200_udscg':'Z_udscg','M4HT100to200_1b':'Zb','M4HT100to200_2b':'Zbb',\
    'M4HT200to400_udscg':'Z_udscg','M4HT200to400_1b':'Zb','M4HT200to400_2b':'Zbb',\
    'M4HT400to600_udscg':'Z_udscg','M4HT400to600_1b':'Zb','M4HT400to600_2b':'Zbb',\
    'M4HT600toInf_udscg':'Z_udscg','M4HT600toInf_1b':'Zb','M4HT600toInf_2b':'Zbb',\
;Zm50toInf
    'HT0to100ZJets_udscg': 'Z_udscg','HT0to100ZJets_1b':'Zb', 'HT0to100ZJets_2b':'Zbb',\
    'HT70to100ZJets_udscg':'Z_udscg','HT70to100ZJets_1b':'Zb','HT70to100ZJets_2b':'Zbb',\
    'HT100to200ZJets_udscg':'Z_udscg','HT100to200ZJets_1b':'Zb','HT100to200ZJets_2b':'Zbb',\
    'HT200to400ZJets_udscg':'Z_udscg','HT200to400ZJets_1b':'Zb','HT200to400ZJets_2b':'Zbb',\
    'HT400to600ZJets_udscg':'Z_udscg','HT400to600ZJets_1b':'Zb','HT400to600ZJets_2b':'Zbb',\
    'HT600to800ZJets_udscg':'Z_udscg','HT600to800ZJets_1b':'Zb','HT600to800ZJets_2b':'Zbb',\
    'HT800to1200ZJets_udscg':'Z_udscg','HT800to1200ZJets_1b':'Zb','HT800to1200ZJets_2b':'Zbb',\
    'HT1200to2500ZJets_udscg':'Z_udscg','HT1200to2500ZJets_1b':'Zb','HT1200to2500ZJets_2b':'Zbb',\
    'HT2500toinfZJets_udscg':'Z_udscg','HT2500toinfZJets_1b':'Zb','HT2500toinfZJets_2b':'Zbb',\
;DYB
    'ZJetsB_Zpt100to200_udscg':'Z_udscg','ZJetsB_Zpt100to200_1b':'Zb','ZJetsB_Zpt100to200_2b':'Zbb',\
    'ZJetsB_Zpt200toInf_udscg':'Z_udscg','ZJetsB_Zpt200toInf_1b':'Zb','ZJetsB_Zpt200toInf_2b':'Zbb',\
;DY B filter
    'ZJetsGenB_Zpt100to200_udscg':'Z_udscg', 'ZJetsGenB_Zpt100to200_1b':'Zb', 'ZJetsGenB_Zpt100to200_2b':'Zbb',\
    'ZJetsGenB_Zpt200toInf_udscg':'Z_udscg', 'ZJetsGenB_Zpt200toInf_1b':'Zb', 'ZJetsGenB_Zpt200toInf_2b':'Zbb',\
;DYnlo
    'DYnlo1J50_udscg':'Z_udscg','DYnlo1J50_1b':'Zb','DYnlo1J50_2b':'Zbb',\
    'DYnlo1J150_udscg':'Z_udscg','DYnlo1J150_1b':'Zb','DYnlo1J150_2b':'Zbb',\
    'DYnlo1J250_udscg':'Z_udscg','DYnlo1J250_1b':'Zb','DYnlo1J250_2b':'Zbb',\
    'DYnlo1J400_udscg':'Z_udscg','DYnlo1J400_1b':'Zb','DYnlo1J400_2b':'Zbb',\
    'DYnlo2J50_udscg':'Z_udscg','DYnlo2J50_1b':'Zb','DYnlo2J50_2b':'Zbb',\
    'DYnlo2J150_udscg':'Z_udscg','DYnlo2J150_1b':'Zb','DYnlo2J150_2b':'Zbb',\
    'DYnlo2J250_udscg':'Z_udscg','DYnlo2J250_1b':'Zb','DYnlo2J250_2b':'Zbb',\
    'DYnlo2J400_udscg':'Z_udscg','DYnlo2J400_1b':'Zb','DYnlo2J400_2b':'Zbb',\
    'DYnloIncl_udscg':'Z_udscg','DYnloIncl_1b':'Zb','DYnloIncl_2b':'Zbb',\
;single-top
    'ST_s':'ST','ST_tW_antitop':'ST','ST_tW_top':'ST','ST_s-channel_4f':'ST','ST_t-channel_top_4f':'ST','ST_t-channel_antitop_4f':'ST',\
;ttbar
    'TT_pow':'TT',\
    'TT_2l2n':'TT',\
;Diboson
    'WZpythia_lf':'VVlight','WZpythia_hf':'VV2b',\
    'WWpythia_lf':'VVlight','WWpythia_hf':'VV2b',\
;Diboson nlo
;    'WZamc_lf':'VVlight','WZamc_hf':'VV2b',\
;    'WWamc_lf':'VVlight','WWamc_hf':'VV2b',\
    'ZZamc_lf':'VVlight','ZZamc_hf':'VV2b',\
;    'ZZ_amc':'VV','WZ_amc':'VV','WW_amc':'VV'
    }

#!! --------------------------------------
#!! Naming
#!! --------------------------------------
#!! naming of processes in the DC
Dict = {'VHbb':'VH', 'ZHbb': 'VH', 'qqZHbb':'ZH_hbb', 'ggZHbb':'ggZH_hbb', 'Zbb':'Zj2b','Zb':'Zj1b','Z_udscg':'Zj0b','TT':'TT','ST':'s_Top','VVlight':'VVLF','VV2b':'VVHF','VV':'VV'}

;new(more compact)
systematicsnaming= {
;sample sys
    'CUETP8M1':'CMS_vhbb_CUETP8M1',
;JER/JES sys
    "JER":"CMS_vhbb_res_j_13TeV",
    "PileUpDataMC":"CMS_vhbb_scale_j_PileUpDataMC_13TeV",
    "PileUpPtRef":"CMS_vhbb_scale_j_PileUpPtRef_13TeV",
    "PileUpPtBB":"CMS_vhbb_scale_j_PileUpPtBB_13TeV",
    "PileUpPtEC1":"CMS_vhbb_scale_j_PileUpPtEC1_13TeV",
    "RelativeJEREC1":"CMS_vhbb_scale_j_RelativeJEREC1_13TeV",
    "RelativeFSR":"CMS_vhbb_scale_j_RelativeFSR_13TeV",
    "RelativeStatFSR":"CMS_vhbb_scale_j_RelativeStatFSR_13TeV",
    "RelativeStatEC":"CMS_vhbb_scale_j_RelativeStatEC_13TeV",
    "RelativePtBB":"CMS_vhbb_scale_j_RelativePtBB_13TeV",
    "RelativePtEC1":"CMS_vhbb_scale_j_RelativePtEC1_13TeV",
    "AbsoluteScale":"CMS_vhbb_scale_j_AbsoluteScale_13TeV",
    "AbsoluteMPFBias":"CMS_vhbb_scale_j_AbsoluteMPFBias_13TeV",
    "AbsoluteStat":"CMS_vhbb_scale_j_AbsoluteStat_13TeV",
    "SinglePionECAL":"CMS_vhbb_scale_j_SinglePionECAL_13TeV",
    "SinglePionHCAL":"CMS_vhbb_scale_j_SinglePionHCAL_13TeV",
    "Fragmentation":"CMS_vhbb_scale_j_Fragmentation_13TeV",
    "TimePtEta":"CMS_vhbb_scale_j_TimePtEta_13TeV",
    "FlavorQCD":"CMS_vhbb_scale_j_FlavorQCD_13TeV",
    'PileUp':'CMS_vhbb_puWeight',
    'sigEWK':'CMS_vhbb_EWK_Zll',
    'CMS_vhbb_LHE_weights_scale_muR_ZH':'CMS_vhbb_LHE_weights_scale_muR_ZH',
    'CMS_vhbb_LHE_weights_scale_muR_ggZH':'CMS_vhbb_LHE_weights_scale_muR_ggZH',
    'CMS_vhbb_LHE_weights_scale_muR_TT':'CMS_vhbb_LHE_weights_scale_muR_TT',
    'CMS_vhbb_LHE_weights_scale_muR_Zj0b':'CMS_vhbb_LHE_weights_scale_muR_Zj0b',
    'CMS_vhbb_LHE_weights_scale_muR_Zj1b':'CMS_vhbb_LHE_weights_scale_muR_Zj1b',
    'CMS_vhbb_LHE_weights_scale_muR_Zj2b':'CMS_vhbb_LHE_weights_scale_muR_Zj2b',
    'CMS_vhbb_LHE_weights_scale_muF_ZH':'CMS_vhbb_LHE_weights_scale_muF_ZH',
    'CMS_vhbb_LHE_weights_scale_muF_ggZH':'CMS_vhbb_LHE_weights_scale_muF_ggZH',
    'CMS_vhbb_LHE_weights_scale_muF_TT':'CMS_vhbb_LHE_weights_scale_muF_TT',
    'CMS_vhbb_LHE_weights_scale_muF_Zj0b':'CMS_vhbb_LHE_weights_scale_muF_Zj0b',
    'CMS_vhbb_LHE_weights_scale_muF_Zj1b':'CMS_vhbb_LHE_weights_scale_muF_Zj1b',
    'CMS_vhbb_LHE_weights_scale_muF_Zj2b':'CMS_vhbb_LHE_weights_scale_muF_Zj2b',
;    'CMS_vhbb_eff_m_13TeV':'CMS_vhbb_eff_m_13TeV',
;    'CMS_vhbb_eff_m_trigger_Zll_13TeV':'CMS_vhbb_eff_m_trigger_Zll_13TeV',
;    'CMS_vhbb_eff_m_MVAID_Zll_13TeV':'CMS_vhbb_eff_m_MVAID_Zll_13TeV',
;    'CMS_vhbb_eff_m_tracker_Zll_13TeV':'CMS_vhbb_eff_m_tracker_Zll_13TeV',
;    'CMS_vhbb_eff_m_ISO_Zll_13TeV':'CMS_vhbb_eff_m_ISO_Zll_13TeV',
;    'CMS_vhbb_eff_e_13TeV':'CMS_vhbb_eff_e_13TeV',
    'CMS_vhbb_eff_e_trigger_Zll_13TeV':'CMS_vhbb_eff_e_trigger_Zll_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_13TeV':'CMS_vhbb_eff_e_MVAID_Zll_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV':'CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV':'CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV',
;    'CMS_vhbb_eff_e_tracker_Zll_13TeV':'CMS_vhbb_eff_e_tracker_Zll_13TeV',
    'JER':'CMS_vhbb_res_j_13TeV',
    'JES':'CMS_vhbb_scale_j_13TeV',
    'JER_UD_low':'CMS_vhbb_res_j_13TeV_low',
    'JER_UD_high':'CMS_vhbb_res_j_13TeV_high',
    'JER_UD_central':'CMS_vhbb_res_j_13TeV_central',
    'JER_UD_forward':'CMS_vhbb_res_j_13TeV_forward',
    'JEC_UD_low':'CMS_vhbb_scale_j_13TeV_low',
    'JEC_UD_high':'CMS_vhbb_scale_j_13TeV_high',
    'JEC_UD_central':'CMS_vhbb_scale_j_13TeV_central',
    'JEC_UD_forward':'CMS_vhbb_scale_j_13TeV_forward',
    'stats':'CMS_vhbb_stats',
    'weightF_sys':'UEPS',
    'weightF_QCD':'CMS_vhbb_boost_QCD',
    'model':'CMS_vhbb_Wj0bModel_ZnnHighPt_13TeV',
; b tag
    'btagWeight_jes_pt0_eta1':'CMS_vhbb_bTagWeightJES_pt0_eta1',
    'btagWeight_jes_pt0_eta2':'CMS_vhbb_bTagWeightJES_pt0_eta2',
    'btagWeight_jes_pt0_eta3':'CMS_vhbb_bTagWeightJES_pt0_eta3',
    'btagWeight_jes_pt1_eta1':'CMS_vhbb_bTagWeightJES_pt1_eta1',
    'btagWeight_jes_pt1_eta2':'CMS_vhbb_bTagWeightJES_pt1_eta2',
    'btagWeight_jes_pt1_eta3':'CMS_vhbb_bTagWeightJES_pt1_eta3',
    'btagWeight_jes_pt2_eta1':'CMS_vhbb_bTagWeightJES_pt2_eta1',
    'btagWeight_jes_pt2_eta2':'CMS_vhbb_bTagWeightJES_pt2_eta2',
    'btagWeight_jes_pt2_eta3':'CMS_vhbb_bTagWeightJES_pt2_eta3',
    'btagWeight_jes_pt3_eta1':'CMS_vhbb_bTagWeightJES_pt3_eta1',
    'btagWeight_jes_pt3_eta2':'CMS_vhbb_bTagWeightJES_pt3_eta2',
    'btagWeight_jes_pt3_eta3':'CMS_vhbb_bTagWeightJES_pt3_eta3',
    'btagWeight_jes_pt4_eta1':'CMS_vhbb_bTagWeightJES_pt4_eta1',
    'btagWeight_jes_pt4_eta2':'CMS_vhbb_bTagWeightJES_pt4_eta2',
    'btagWeight_jes_pt4_eta3':'CMS_vhbb_bTagWeightJES_pt4_eta3',
;
    'btagWeight_lf_pt0_eta1':'CMS_vhbb_bTagWeightLF_pt0_eta1',
    'btagWeight_lf_pt0_eta2':'CMS_vhbb_bTagWeightLF_pt0_eta2',
    'btagWeight_lf_pt0_eta3':'CMS_vhbb_bTagWeightLF_pt0_eta3',
    'btagWeight_lf_pt1_eta1':'CMS_vhbb_bTagWeightLF_pt1_eta1',
    'btagWeight_lf_pt1_eta2':'CMS_vhbb_bTagWeightLF_pt1_eta2',
    'btagWeight_lf_pt1_eta3':'CMS_vhbb_bTagWeightLF_pt1_eta3',
    'btagWeight_lf_pt2_eta1':'CMS_vhbb_bTagWeightLF_pt2_eta1',
    'btagWeight_lf_pt2_eta2':'CMS_vhbb_bTagWeightLF_pt2_eta2',
    'btagWeight_lf_pt2_eta3':'CMS_vhbb_bTagWeightLF_pt2_eta3',
    'btagWeight_lf_pt3_eta1':'CMS_vhbb_bTagWeightLF_pt3_eta1',
    'btagWeight_lf_pt3_eta2':'CMS_vhbb_bTagWeightLF_pt3_eta2',
    'btagWeight_lf_pt3_eta3':'CMS_vhbb_bTagWeightLF_pt3_eta3',
    'btagWeight_lf_pt4_eta1':'CMS_vhbb_bTagWeightLF_pt4_eta1',
    'btagWeight_lf_pt4_eta2':'CMS_vhbb_bTagWeightLF_pt4_eta2',
    'btagWeight_lf_pt4_eta3':'CMS_vhbb_bTagWeightLF_pt4_eta3',
; 
    'btagWeight_hf_pt0_eta1':'CMS_vhbb_bTagWeightHF_pt0_eta1',
    'btagWeight_hf_pt0_eta2':'CMS_vhbb_bTagWeightHF_pt0_eta2',
    'btagWeight_hf_pt0_eta3':'CMS_vhbb_bTagWeightHF_pt0_eta3',
    'btagWeight_hf_pt1_eta1':'CMS_vhbb_bTagWeightHF_pt1_eta1',
    'btagWeight_hf_pt1_eta2':'CMS_vhbb_bTagWeightHF_pt1_eta2',
    'btagWeight_hf_pt1_eta3':'CMS_vhbb_bTagWeightHF_pt1_eta3',
    'btagWeight_hf_pt2_eta1':'CMS_vhbb_bTagWeightHF_pt2_eta1',
    'btagWeight_hf_pt2_eta2':'CMS_vhbb_bTagWeightHF_pt2_eta2',
    'btagWeight_hf_pt2_eta3':'CMS_vhbb_bTagWeightHF_pt2_eta3',
    'btagWeight_hf_pt3_eta1':'CMS_vhbb_bTagWeightHF_pt3_eta1',
    'btagWeight_hf_pt3_eta2':'CMS_vhbb_bTagWeightHF_pt3_eta2',
    'btagWeight_hf_pt3_eta3':'CMS_vhbb_bTagWeightHF_pt3_eta3',
    'btagWeight_hf_pt4_eta1':'CMS_vhbb_bTagWeightHF_pt4_eta1',
    'btagWeight_hf_pt4_eta2':'CMS_vhbb_bTagWeightHF_pt4_eta2',
    'btagWeight_hf_pt4_eta3':'CMS_vhbb_bTagWeightHF_pt4_eta3',
;
    'btagWeight_lfstats1_pt0_eta1':'CMS_vhbb_bTagWeightLFStats1_pt0_eta1',
    'btagWeight_lfstats1_pt0_eta2':'CMS_vhbb_bTagWeightLFStats1_pt0_eta2',
    'btagWeight_lfstats1_pt0_eta3':'CMS_vhbb_bTagWeightLFStats1_pt0_eta3',
    'btagWeight_lfstats1_pt1_eta1':'CMS_vhbb_bTagWeightLFStats1_pt1_eta1',
    'btagWeight_lfstats1_pt1_eta2':'CMS_vhbb_bTagWeightLFStats1_pt1_eta2',
    'btagWeight_lfstats1_pt1_eta3':'CMS_vhbb_bTagWeightLFStats1_pt1_eta3',
    'btagWeight_lfstats1_pt2_eta1':'CMS_vhbb_bTagWeightLFStats1_pt2_eta1',
    'btagWeight_lfstats1_pt2_eta2':'CMS_vhbb_bTagWeightLFStats1_pt2_eta2',
    'btagWeight_lfstats1_pt2_eta3':'CMS_vhbb_bTagWeightLFStats1_pt2_eta3',
    'btagWeight_lfstats1_pt3_eta1':'CMS_vhbb_bTagWeightLFStats1_pt3_eta1',
    'btagWeight_lfstats1_pt3_eta2':'CMS_vhbb_bTagWeightLFStats1_pt3_eta2',
    'btagWeight_lfstats1_pt3_eta3':'CMS_vhbb_bTagWeightLFStats1_pt3_eta3',
    'btagWeight_lfstats1_pt4_eta1':'CMS_vhbb_bTagWeightLFStats1_pt4_eta1',
    'btagWeight_lfstats1_pt4_eta2':'CMS_vhbb_bTagWeightLFStats1_pt4_eta2',
    'btagWeight_lfstats1_pt4_eta3':'CMS_vhbb_bTagWeightLFStats1_pt4_eta3',
;
    'btagWeight_lfstats2_pt0_eta1':'CMS_vhbb_bTagWeightLFStats2_pt0_eta1',
    'btagWeight_lfstats2_pt0_eta1':'CMS_vhbb_bTagWeightLFStats2_pt0_eta1',
    'btagWeight_lfstats2_pt0_eta2':'CMS_vhbb_bTagWeightLFStats2_pt0_eta2',
    'btagWeight_lfstats2_pt0_eta3':'CMS_vhbb_bTagWeightLFStats2_pt0_eta3',
    'btagWeight_lfstats2_pt1_eta1':'CMS_vhbb_bTagWeightLFStats2_pt1_eta1',
    'btagWeight_lfstats2_pt1_eta2':'CMS_vhbb_bTagWeightLFStats2_pt1_eta2',
    'btagWeight_lfstats2_pt1_eta3':'CMS_vhbb_bTagWeightLFStats2_pt1_eta3',
    'btagWeight_lfstats2_pt2_eta1':'CMS_vhbb_bTagWeightLFStats2_pt2_eta1',
    'btagWeight_lfstats2_pt2_eta2':'CMS_vhbb_bTagWeightLFStats2_pt2_eta2',
    'btagWeight_lfstats2_pt2_eta3':'CMS_vhbb_bTagWeightLFStats2_pt2_eta3',
    'btagWeight_lfstats2_pt3_eta1':'CMS_vhbb_bTagWeightLFStats2_pt3_eta1',
    'btagWeight_lfstats2_pt3_eta2':'CMS_vhbb_bTagWeightLFStats2_pt3_eta2',
    'btagWeight_lfstats2_pt3_eta3':'CMS_vhbb_bTagWeightLFStats2_pt3_eta3',
    'btagWeight_lfstats2_pt4_eta1':'CMS_vhbb_bTagWeightLFStats2_pt4_eta1',
    'btagWeight_lfstats2_pt4_eta2':'CMS_vhbb_bTagWeightLFStats2_pt4_eta2',
    'btagWeight_lfstats2_pt4_eta3':'CMS_vhbb_bTagWeightLFStats2_pt4_eta3',
;
    'btagWeight_hfstats1_pt0_eta1':'CMS_vhbb_bTagWeightHFStats1_pt0_eta1',
    'btagWeight_hfstats1_pt0_eta2':'CMS_vhbb_bTagWeightHFStats1_pt0_eta2',
    'btagWeight_hfstats1_pt0_eta3':'CMS_vhbb_bTagWeightHFStats1_pt0_eta3',
    'btagWeight_hfstats1_pt1_eta1':'CMS_vhbb_bTagWeightHFStats1_pt1_eta1',
    'btagWeight_hfstats1_pt1_eta2':'CMS_vhbb_bTagWeightHFStats1_pt1_eta2',
    'btagWeight_hfstats1_pt1_eta3':'CMS_vhbb_bTagWeightHFStats1_pt1_eta3',
    'btagWeight_hfstats1_pt2_eta1':'CMS_vhbb_bTagWeightHFStats1_pt2_eta1',
    'btagWeight_hfstats1_pt2_eta2':'CMS_vhbb_bTagWeightHFStats1_pt2_eta2',
    'btagWeight_hfstats1_pt2_eta3':'CMS_vhbb_bTagWeightHFStats1_pt2_eta3',
    'btagWeight_hfstats1_pt3_eta1':'CMS_vhbb_bTagWeightHFStats1_pt3_eta1',
    'btagWeight_hfstats1_pt3_eta2':'CMS_vhbb_bTagWeightHFStats1_pt3_eta2',
    'btagWeight_hfstats1_pt3_eta3':'CMS_vhbb_bTagWeightHFStats1_pt3_eta3',
    'btagWeight_hfstats1_pt4_eta1':'CMS_vhbb_bTagWeightHFStats1_pt4_eta1',
    'btagWeight_hfstats1_pt4_eta2':'CMS_vhbb_bTagWeightHFStats1_pt4_eta2',
    'btagWeight_hfstats1_pt4_eta3':'CMS_vhbb_bTagWeightHFStats1_pt4_eta3',
;
    'btagWeight_hfstats2_pt0_eta1':'CMS_vhbb_bTagWeightHFStats2_pt0_eta1',
    'btagWeight_hfstats2_pt0_eta2':'CMS_vhbb_bTagWeightHFStats2_pt0_eta2',
    'btagWeight_hfstats2_pt0_eta3':'CMS_vhbb_bTagWeightHFStats2_pt0_eta3',
    'btagWeight_hfstats2_pt1_eta1':'CMS_vhbb_bTagWeightHFStats2_pt1_eta1',
    'btagWeight_hfstats2_pt1_eta2':'CMS_vhbb_bTagWeightHFStats2_pt1_eta2',
    'btagWeight_hfstats2_pt1_eta3':'CMS_vhbb_bTagWeightHFStats2_pt1_eta3',
    'btagWeight_hfstats2_pt2_eta1':'CMS_vhbb_bTagWeightHFStats2_pt2_eta1',
    'btagWeight_hfstats2_pt2_eta2':'CMS_vhbb_bTagWeightHFStats2_pt2_eta2',
    'btagWeight_hfstats2_pt2_eta3':'CMS_vhbb_bTagWeightHFStats2_pt2_eta3',
    'btagWeight_hfstats2_pt3_eta1':'CMS_vhbb_bTagWeightHFStats2_pt3_eta1',
    'btagWeight_hfstats2_pt3_eta2':'CMS_vhbb_bTagWeightHFStats2_pt3_eta2',
    'btagWeight_hfstats2_pt3_eta3':'CMS_vhbb_bTagWeightHFStats2_pt3_eta3',
    'btagWeight_hfstats2_pt4_eta1':'CMS_vhbb_bTagWeightHFStats2_pt4_eta1',
    'btagWeight_hfstats2_pt4_eta2':'CMS_vhbb_bTagWeightHFStats2_pt4_eta2',
    'btagWeight_hfstats2_pt4_eta3':'CMS_vhbb_bTagWeightHFStats2_pt4_eta3',

    'btagWeight_cferr1_pt0_eta1':'CMS_vhbb_bTagWeightcErr1_pt0_eta1',
    'btagWeight_cferr1_pt0_eta2':'CMS_vhbb_bTagWeightcErr1_pt0_eta2',
    'btagWeight_cferr1_pt0_eta3':'CMS_vhbb_bTagWeightcErr1_pt0_eta3',
    'btagWeight_cferr1_pt1_eta1':'CMS_vhbb_bTagWeightcErr1_pt1_eta1',
    'btagWeight_cferr1_pt1_eta2':'CMS_vhbb_bTagWeightcErr1_pt1_eta2',
    'btagWeight_cferr1_pt1_eta3':'CMS_vhbb_bTagWeightcErr1_pt1_eta3',
    'btagWeight_cferr1_pt2_eta1':'CMS_vhbb_bTagWeightcErr1_pt2_eta1',
    'btagWeight_cferr1_pt2_eta2':'CMS_vhbb_bTagWeightcErr1_pt2_eta2',
    'btagWeight_cferr1_pt2_eta3':'CMS_vhbb_bTagWeightcErr1_pt2_eta3',
    'btagWeight_cferr1_pt3_eta1':'CMS_vhbb_bTagWeightcErr1_pt3_eta1',
    'btagWeight_cferr1_pt3_eta2':'CMS_vhbb_bTagWeightcErr1_pt3_eta2',
    'btagWeight_cferr1_pt3_eta3':'CMS_vhbb_bTagWeightcErr1_pt3_eta3',
    'btagWeight_cferr1_pt4_eta1':'CMS_vhbb_bTagWeightcErr1_pt4_eta1',
    'btagWeight_cferr1_pt4_eta2':'CMS_vhbb_bTagWeightcErr1_pt4_eta2',
    'btagWeight_cferr2_pt4_eta3':'CMS_vhbb_bTagWeightcErr2_pt4_eta3',
#Used before, stays here for now, just as a reference
#; b tag
#    'bTagWeightDeepCSV_JES': 'CMS_vhbb_bTagWeightDeepCSV_JES',
#    'bTagWeightDeepCSV_LF': 'CMS_vhbb_bTagWeightDeepCSV_LF',
#    'bTagWeightDeepCSV_HF': 'CMS_vhbb_bTagWeightDeepCSV_HF',
#    'bTagWeightDeepCSV_LFStats1': 'CMS_vhbb_bTagWeightDeepCSV_LFStats1',
#    'bTagWeightDeepCSV_LFStats2': 'CMS_vhbb_bTagWeightDeepCSV_LFStats2',
#    'bTagWeightDeepCSV_HFStats1': 'CMS_vhbb_bTagWeightDeepCSV_HFStats1',
#    'bTagWeightDeepCSV_HFStats2': 'CMS_vhbb_bTagWeightDeepCSV_HFStats2',
#    'bTagWeightDeepCSV_cErr1': 'CMS_vhbb_bTagWeightDeepCSV_cErr1',
#    'bTagWeightDeepCSV_cErr2': 'CMS_vhbb_bTagWeightDeepCSV_cErr2',
; jet
    "jesTotal": "CMS_vhbb_jesAbsoluteStat",
    "jer": "CMS_vhbb_jer",
    "jesAbsoluteStat": "CMS_vhbb_jesAbsoluteStat",
    "jesAbsoluteScale": "CMS_vhbb_jesAbsoluteScale",
    "jesAbsoluteFlavMap": "CMS_vhbb_jesAbsoluteFlavMap",
    "jesAbsoluteMPFBias": "CMS_vhbb_jesAbsoluteMPFBias",
    "jesFragmentation": "CMS_vhbb_jesFragmentation",
    "jesSinglePionECAL": "CMS_vhbb_jesSinglePionECAL",
    "jesSinglePionHCAL": "CMS_vhbb_jesSinglePionHCAL",
    "jesFlavorQCD": "CMS_vhbb_jesFlavorQCD",
    "jesRelativeJEREC1": "CMS_vhbb_jesRelativeJEREC1",
    "jesRelativeJEREC2": "CMS_vhbb_jesRelativeJEREC2",
    "jesRelativeJERHF": "CMS_vhbb_jesRelativeJERHF",
    "jesRelativePtBB": "CMS_vhbb_jesRelativePtBB",
    "jesRelativePtEC1": "CMS_vhbb_jesRelativePtEC1",
    "jesRelativePtEC2": "CMS_vhbb_jesRelativePtEC2",
    "jesRelativePtHF": "CMS_vhbb_jesRelativePtHF",
    "jesRelativeBal": "CMS_vhbb_jesRelativeBal",
    "jesRelativeFSR": "CMS_vhbb_jesRelativeFSR",
    "jesRelativeStatFSR": "CMS_vhbb_jesRelativeStatFSR",
    "jesRelativeStatEC": "CMS_vhbb_jesRelativeStatEC",
    "jesRelativeStatHF": "CMS_vhbb_jesRelativeStatHF",
    "jesPileUpDataMC": "CMS_vhbb_jesPileUpDataMC",
    "jesPileUpPtRef": "CMS_vhbb_jesPileUpPtRef",
    "jesPileUpPtBB": "CMS_vhbb_jesPileUpPtBB",
    "jesPileUpPtEC1": "CMS_vhbb_jesPileUpPtEC1",
    "jesPileUpPtEC2": "CMS_vhbb_jesPileUpPtEC2",
    "jesPileUpPtHF": "CMS_vhbb_jesPileUpPtHF",
    "jesPileUpMuZero": "CMS_vhbb_jesPileUpMuZero",
    "jesPileUpEnvelope": "CMS_vhbb_jesPileUpEnvelope",
    }

removeWeightSystematics = {'Zee': ['CMS_vhbb_eff_m_13TeV', 'CMS_vhbb_eff_m_trigger_Zll_13TeV', 'CMS_vhbb_eff_m_MVAID_Zll_13TeV', 'CMS_vhbb_eff_m_tracker_Zll_13TeV', 'CMS_vhbb_eff_m_ISO_Zll_13TeV'],
 'Zuu': ['CMS_vhbb_eff_e_13TeV', 'CMS_vhbb_eff_e_trigger_Zll_13TeV', 'CMS_vhbb_eff_e_MVAID_Zll_13TeV', 'CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV', 'CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV', 'CMS_vhbb_eff_e_tracker_Zll_13TeV']}

ptRegionsDict = {
                    'HighPtLooseBTag': ['HighPtLooseBTag'],
                    'HighPt': ['HighPt', 'ATLAS', 'MJJ'],
                    'MedPt': ['MedPt'],
                    'LowPt': ['lowPt'],
                    'bin0': ['Vptbin0'],
                    'bin1': ['Vptbin1'],
                    'bin2': ['Vptbin2'],
                    'bin150To200': ['Vptbin150To200'],
                    'bin200ToInf': ['Vptbin200ToInf'],
                }

;CR+SR
List: Zuu_CRZlight_lowpt,Zuu_CRZlight_highpt,Zee_CRZlight_lowpt,Zee_CRZlight_highpt,Zuu_CRZb_highpt,Zuu_CRZb_lowpt,Zee_CRZb_highpt,Zee_CRZb_lowpt,Zee_CRttbar_highpt,Zee_CRttbar_lowpt,Zuu_CRttbar_highpt,Zuu_CRttbar_lowpt,Zee_BDT_lowpt,Zee_BDT_highpt,Zuu_BDT_lowpt,Zuu_BDT_highpt
;List: Zuu_CRZlight_lowpt,Zuu_BDT_highpt
;List:Zee_CRZb_highpt
;;!! --------------------------------------
;;!! Datacards specific setup
;;!! --------------------------------------

;;List here the lnN sys in use
[Datacard]
rateParamRange = [0.2, 5.0]

;_*_*_*_*_*_*_*_*_*_*_*
;Systematics
;_*_*_*_*_*_*_*_*_*_*_*

InUseCommon = ['lumi_13TeV', 'pdf_qqbar', 'pdf_gg', 'QCDscale_VH', 'QCDscale_ttbar', 'QCDscale_VV', 'CMS_vhbb_boost_EWK_13TeV', 'CMS_vhbb_boost_QCD_13TeV', 'CMS_vhbb_ST', 'CMS_vhbb_VV','CMS_vhbb_LHE_weights_pdf_ZH','CMS_vhbb_LHE_weights_pdf_TT', 'CMS_vhbb_LHE_weights_pdf_Zj0b', 'CMS_vhbb_LHE_weights_pdf_Zj1b', 'CMS_vhbb_LHE_weights_pdf_Zj2b', 'CMS_vhbb_LHE_weights_pdf_VVHF', 'CMS_vhbb_LHE_weights_pdf_VVLF','CMS_vhbb_eff_m_trigger_Zll_13TeV']
InUseCommon_HighPt = <!Datacard|InUseCommon!>
InUseCommon_LowPt = <!Datacard|InUseCommon!>
InUseSF = []
InUse_BDT_NoSysRegion = <!Datacard|InUseCommon!> + <!Datacard|InUseSF!>
InUse_cr_NoSysRegion = <!Datacard|InUseCommon!> + <!Datacard|InUseSF!>
; + ['QCDscale_VH_ggZHacceptance_highPt'] + ['QCDscale_VH_ggZHacceptance_lowPt']
;For category bdt
InUse_BDT_HighPt = <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']
InUse_BDT_LowPt = <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']
;InUse_BDT_HighPt = <!Datacard|InUse_BDT_NoSysRegion!> + ['QCDscale_VH_ggZHacceptance_highPt']
;InUse_BDT_LowPt = <!Datacard|InUse_BDT_NoSysRegion!> + ['QCDscale_VH_ggZHacceptance_lowPt']
InUse_cr_HighPt= <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']
InUse_cr_LowPt= <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']

;For Mass s/(s+b)
InUse_mjj_LowPt= <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']
InUse_mjj_HighPt= <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']

;For Mass analysis
InUse_mjj_bin0 = <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']
InUse_mjj_bin1 = <!Datacard|InUseCommon_LowPt!> + ['QCDscale_VH_ggZHacceptance_lowPt']
InUse_mjj_bin2 = <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']

InUse_mjj_bin150To200 =   <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']
InUse_mjj_bin200ToInf =   <!Datacard|InUseCommon_HighPt!> + ['QCDscale_VH_ggZHacceptance_highPt']


rateParams = ['SF_TT','SF_Zj0b','SF_Zjb','SF_Zj2b']
rateParams_BDT_HighPt =  ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']
rateParams_BDT_LowPt =  ['SF_TT_low_Zll','SF_Zj0b_low_Zll','SF_Zjb_low_Zll','SF_Zj2b_low_Zll']
rateParams_BDT_NoSysRegion = <!Datacard|rateParams!>
rateParams_cr_NoSysRegion = <!Datacard|rateParams!>
rateParams_cr_HighPt = ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']
rateParams_cr_LowPt = ['SF_TT_low_Zll','SF_Zj0b_low_Zll','SF_Zjb_low_Zll','SF_Zj2b_low_Zll']

;For Mass s/(s+b)
rateParams_mjj_HighPt = ['SF_TT_norm_high_Zll','SF_Zj0b_norm_high_Zll','SF_Zjb_norm_high_Zll','SF_Zj2b_norm_high_Zll']
rateParams_mjj_LowPt = ['SF_TT_norm_low_Zll','SF_Zj0b_norm_low_Zll','SF_Zjb_norm_low_Zll','SF_Zj2b_norm_low_Zll']
;For Mass analysis
rateParams_mjj_bin0 = ['SF_TT_low_Zll','SF_Zj0b_low_Zll','SF_Zjb_low_Zll','SF_Zj2b_low_Zll']
rateParams_mjj_bin1 = ['SF_TT_low_Zll','SF_Zj0b_low_Zll','SF_Zjb_low_Zll','SF_Zj2b_low_Zll']
rateParams_mjj_bin2 = ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']

rateParams_mjj_bin150To200 =  ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']
rateParams_mjj_bin200ToInf =  ['SF_TT_high_Zll','SF_Zj0b_high_Zll','SF_Zjb_high_Zll','SF_Zj2b_high_Zll']

;!! ---------------
;!! Sys definitions
;!! ---------------
;!!!Do not put Groups but same elements as in setup

;the systematic on luminosity is around 2% for all samples NOT data driven: ggZH, ZH, WH, VV, ST, QCD
lumi_13TeV =  {'type':'lnN', 'ggZHbb':1.023, 'qqZHbb':1.023, 'Z_udscg':1.023, 'Zb':1.023, 'Zbb':1.023, 'TT':1.023, 'ST':1.023,'VVlight':1.023,'VV2b':1.023,'VV':1.023}
lumi_13TeV_low = <!Datacard|lumi_13TeV!>
lumi_13TeV_high = <!Datacard|lumi_13TeV!>

;the systematic on qq PDF is around 1% for all samples NOT data driven and generate by qq: ZH, WH, VV, ST
pdf_qqbar = {'type':'lnN', 'qqZHbb':1.023,'VVlight':1.01,'VV2b':1.01, 'Z_udscg':1.01, 'Zb':1.01, 'Zbb':1.01, 'VV': 1.01}
pdf_qqbar_low = <!Datacard|pdf_qqbar!>
pdf_qqbar_high = <!Datacard|pdf_qqbar!>

;the systematic on qq PDF is around 1% for all samples NOT data driven and generate by gg: ggZH, ST, QCD
pdf_gg = {'type':'lnN', 'ggZHbb':1.02,'ST':1.01,'QCD':1.01, 'TT':1.01}
pdf_gg_low = <!Datacard|pdf_gg!>
pdf_gg_high = <!Datacard|pdf_gg!>

QCDscale_VH = {'type':'lnN','qqZHbb':1.04}
QCDscale_VH_low = <!Datacard|QCDscale_VH!>
QCDscale_VH_high = <!Datacard|QCDscale_VH!>
QCDscale_ttbar = {'type':'lnN', 'TT':1.06}
QCDscale_ttbar_low = <!Datacard|QCDscale_ttbar!>
QCDscale_ttbar_high = <!Datacard|QCDscale_ttbar!>
QCDscale_VV = {'type':'lnN', 'VVlight':1.04,'VV2b':1.04, 'VV':1.04}
QCDscale_VV_low = <!Datacard|QCDscale_VV!>
QCDscale_VV_high = <!Datacard|QCDscale_VV!>

CMS_vhbb_boost_EWK_13TeV = {'type':'lnN','ggZHbb':1.02}
CMS_vhbb_boost_EWK_13TeV_low = <!Datacard|CMS_vhbb_boost_EWK_13TeV!>
CMS_vhbb_boost_EWK_13TeV_high = <!Datacard|CMS_vhbb_boost_EWK_13TeV!>

CMS_vhbb_boost_QCD_13TeV = {'type':'lnN','ggZHbb':1.05}
CMS_vhbb_boost_QCD_13TeV_low = <!Datacard|CMS_vhbb_boost_QCD_13TeV!>
CMS_vhbb_boost_QCD_13TeV_high = <!Datacard|CMS_vhbb_boost_QCD_13TeV!>

CMS_vhbb_ST = {'type':'lnN', 'ST':1.15}
CMS_vhbb_ST_low = <!Datacard|CMS_vhbb_ST!>
CMS_vhbb_ST_high= <!Datacard|CMS_vhbb_ST!>

CMS_vhbb_VV = {'type':'lnN', 'VVlight':1.15,'VV2b':1.15,'VV':1.15}
CMS_vhbb_VV_low = <!Datacard|CMS_vhbb_VV!>
CMS_vhbb_VV_high= <!Datacard|CMS_vhbb_VV!>

CMS_vhbb_Z_udscg_SF_Zll_13TeV = {'type':'lnN', 'Z_udscg':1.013}
CMS_vhbb_Z_udscg_SF_Zll_13TeV_low = <!Datacard|CMS_vhbb_Z_udscg_SF_Zll_13TeV!>
CMS_vhbb_Z_udscg_SF_Zll_13TeV_high = <!Datacard|CMS_vhbb_Z_udscg_SF_Zll_13TeV!>

CMS_vhbb_Zjb_SF_Zll_13TeV = {'type':'lnN', 'Zb':1.054,'Zbb':1.054}
CMS_vhbb_Zjb_SF_Zll_13TeV_low = <!Datacard|CMS_vhbb_Zjb_SF_Zll_13TeV!>
CMS_vhbb_Zjb_SF_Zll_13TeV_high = <!Datacard|CMS_vhbb_Zjb_SF_Zll_13TeV!>

CMS_vhbb_TT_SF_Zll_13TeV = {'type':'lnN', 'TT':1.032}
CMS_vhbb_TT_SF_Zll_13TeV_low = <!Datacard|CMS_vhbb_TT_SF_Zll_13TeV!>
CMS_vhbb_TT_SF_Zll_13TeV_high = <!Datacard|CMS_vhbb_TT_SF_Zll_13TeV!>

CMS_vhbb_QCD_SF_Zll_13TeV = {'type':'lnN', 'QCD':1.04}
CMS_vhbb_QCD_SF_Zll_13TeV_low = <!Datacard|CMS_vhbb_QCD_SF_Zll_13TeV!>
CMS_vhbb_QCD_SF_Zll_13TeV_high = <!Datacard|CMS_vhbb_QCD_SF_Zll_13TeV!>

CMS_vhbb_eff_lep_13TeV = {'type':'lnN', 'qqZHbb':1.05, 'ggZHbb':1.05, 'Z_udscg':1.05, 'Zb':1.05, 'Zbb':1.05, 'TT':1.05,'ZH':1.05, 'ST':1.05,'VVlight':1.05,'VV2b':1.05,'VV':1.05}
CMS_vhbb_eff_e_13TeV = {'type':'lnN', 'qqZHbb':1.05, 'ggZHbb':1.05, 'Z_udscg':1.05, 'Zb':1.05, 'Zbb':1.05, 'TT':1.05,'ZH':1.05, 'ST':1.05,'VVlight':1.05,'VV2b':1.05,'VV':1.05}
CMS_vhbb_eff_m_13TeV = {'type':'lnN', 'qqZHbb':1.05, 'ggZHbb':1.05, 'Z_udscg':1.05, 'Zb':1.05, 'Zbb':1.05, 'TT':1.05,'ZH':1.05, 'ST':1.05,'VVlight':1.05,'VV2b':1.05,'VV':1.05}
CMS_vhbb_eff_lep_13TeV_low = <!Datacard|CMS_vhbb_eff_lep_13TeV!>
CMS_vhbb_eff_e_13TeV_low = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_lep_13TeV_high = <!Datacard|CMS_vhbb_eff_lep_13TeV!>
CMS_vhbb_eff_m_13TeV_high = <!Datacard|CMS_vhbb_eff_m_13TeV!>
;split lep sf
CMS_vhbb_eff_e_trigger_Zll_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_e_MVAID_Zll_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
;CMS_vhbb_eff_e_tracker_Zll_13TeV = <!Datacard|CMS_vhbb_eff_e_13TeV!>
;split lep sf
CMS_vhbb_eff_m_trigger_Zll_13TeV = {'type':'lnN', 'qqZHbb':1.04, 'ggZHbb':1.04, 'Z_udscg':1.04, 'Zb':1.04, 'Zbb':1.04, 'TT':1.04,'ZH':1.04, 'ST':1.04,'VVlight':1.04,'VV2b':1.04,'VV':1.04} 
CMS_vhbb_eff_m_MVAID_Zll_13TeV = <!Datacard|CMS_vhbb_eff_m_13TeV!>
;CMS_vhbb_eff_m_tracker_Zll_13TeV = <!Datacard|CMS_vhbb_eff_m_13TeV!>
;CMS_vhbb_eff_m_ISO_Zll_13TeV = <!Datacard|CMS_vhbb_eff_m_13TeV!>

CMS_vhbb_LHE_weights_pdf_ZH = {'type':'lnN', 'qqZHbb':1.01}
CMS_vhbb_LHE_weights_pdf_TT = {'type':'lnN', 'TT':1.005}
CMS_vhbb_LHE_weights_pdf_Zj0b = {'type':'lnN', 'Z_udscg':1.05}
CMS_vhbb_LHE_weights_pdf_Zj1b = {'type':'lnN', 'Zb':1.03}
CMS_vhbb_LHE_weights_pdf_Zj2b = {'type':'lnN', 'Zbb':1.02}
CMS_vhbb_LHE_weights_pdf_VVHF = {'type':'lnN', 'VVlight':1.02}
CMS_vhbb_LHE_weights_pdf_VVLF = {'type':'lnN', 'VV2b':1.03}

QCDscale_VH_ggZHacceptance_lowPt = {'type':'lnN', 'ggZHbb':1.32}
QCDscale_VH_ggZHacceptance_highPt = {'type':'lnN', 'ggZHbb':1.32}

SF_TT   = {'TT':1}
SF_Zj0b  = {'Zj0b':1}
SF_Zjb  = {'Zj1b':1}
SF_Zj2b  = {'Zj2b':1}

SF_TT_norm_high_Zll   = {'TT':1}
SF_Zj0b_norm_high_Zll  = {'Zj0b':1}
SF_Zjb_norm_high_Zll  = {'Zj1b':1}
SF_Zj2b_norm_high_Zll  = {'Zj2b':1}
SF_Zjnb_norm_high_Zll  = {'Zj1b':1,'Zj2b':1}

SF_TT_norm_low_Zll   = {'TT':1}
SF_Zj0b_norm_low_Zll  = {'Zj0b':1}
SF_Zjb_norm_low_Zll  = {'Zj1b':1}
SF_Zj2b_norm_low_Zll  = {'Zj2b':1}
SF_Zjnb_norm_low_Zll  = {'Zj1b':1,'Zj2b':1}

SF_TT_high_Zll   = {'TT':1}
SF_Zj0b_high_Zll  = {'Zj0b':1}
SF_Zjb_high_Zll  = {'Zj1b':1}
SF_Zj2b_high_Zll  = {'Zj2b':1}
SF_Zjnb_high_Zll  = {'Zj1b':1,'Zj2b':1}

SF_TT_low_Zll   = {'TT':1}
SF_Zj0b_low_Zll  = {'Zj0b':1}
SF_Zjb_low_Zll  = {'Zj1b':1}
SF_Zj2b_low_Zll  = {'Zj2b':1}
SF_Zjnb_low_Zll  = {'Zj1b':1,'Zj2b':1}

#!! -------------------------
#!! Limit definitions
#!! -------------------------

;======================
;For SF fit (CR+SF)
;======================


;;Default
;VHsignals = <!Plot_general|allSIG!>
;VHbackgrounds = [<!Plot_general|allBKG!>]
;VVsignals = <!Plot_general|allSIGVV!>
;VVbackgrounds = [<!Plot_general|allBKGVV!>]

;
;VHsignals = <!Plot_general|allSIG!>
;VHsignals = <!Plot_general|allSIG!>
VHsignals = [<!Plot_general|allSIG!>]
;,<!Plot_general|sigVHPS!>]
VHbackgrounds = [<!Plot_general|allBKG!>]
VVsignals = [<!Plot_general|allSIGVV!>]
VVbackgrounds = [<!Plot_general|allBKGVV!>]


DNNbinsLowPt = [0.0, 0.6240611306855156, 0.7000001735645366, 0.7486626726795057, 0.7852388671811757, 0.8148422188836347, 0.839860675613617, 0.8616147451450854, 0.8809160658133235, 0.8983012691320028, 0.9141447046020885, 0.9287184863559806, 0.9422269727887637, 0.9548277613594889, 0.9666450902341203, 1.0]
DNNbinsHighPt = [0.0, 0.6272740645398093, 0.7032477164502625, 0.7519323933791412, 0.7885252573912132, 0.818142100748172, 0.8431719595780823, 0.8649359434730672, 0.8842460606705789, 0.9016391872527773, 0.9174898433294888, 0.9320702670484583, 0.9455849099406044, 0.9581914412896315, 0.9700141558827413, 1.0]

;;;;;;;;;;;;;;
;VH datacards
;;;;;;;;;;;;;;

;ELECTRON REGION

;low pt
[dc:Zee_CRZlight_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZlight_lowpt
cut = Zee_CRZlight_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRZlight_lowpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZlight_lowpt
[dc:Zee_CRZb_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZb_lowpt
cut = Zee_CRZb_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRZb_lowpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZb_lowpt
[dc:Zee_CRttbar_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRttbar_lowpt
cut = Zee_CRttbar_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRttbar_lowpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRttbar_lowpt
[dc:Zee_BDT_lowpt]
var = <!LimitGeneral|BDTlow!>
range = <!LimitGeneral|BDTrange!>
dcName = Zee_BDT_lowpt
cut = Zee_BDT_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_BDT_lowpt
data = <!Plot_general|eData!>
type= BDT
wsVarName = Zee_BDT_lowpt
rebin_method = fixed
rebin_list = <!Datacard|DNNbinsLowPt!> 


;high pt

[dc:Zee_CRZlight_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZlight_highpt
cut = Zee_CRZlight_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRZlight_highpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZlight_highpt
[dc:Zee_CRZb_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZb_highpt
cut = Zee_CRZb_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRZb_highpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZb_highpt
[dc:Zee_CRttbar_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRttbar_highpt
cut = Zee_CRttbar_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_CRttbar_highpt
data = <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRttbar_highpt
[dc:Zee_BDT_highpt]
var = <!LimitGeneral|BDThigh!>
range = <!LimitGeneral|BDTrange!>
;var = <!LimitGeneral|Mass!>
;range = <!LimitGeneral|MassRange!>
dcName = Zee_BDT_highpt
cut = Zee_BDT_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zee_BDT_highpt
data = <!Plot_general|eData!>
type= BDT
wsVarName = Zee_BDT_highpt
rebin_method = fixed
rebin_list = <!Datacard|DNNbinsHighPt!>

;Mass
[dc:ZeeMass_highpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZeeMass_highpt
cut = ZeeBDT_highpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZeeMass_highpt
data = <!Plot_general|eData!>
type= mjj
;SBweight = sb_weight_ZeeBDTVH_highpt
SBweight = VHbb::SoverSBWeight(ZllBDT_highptCMVA.Nominal,3)
wsVarName = ZeeMass_highpt
[dc:ZeeHighPt_13TeV]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZeeHighPt_13TeV
cut = ZeeBDT_highpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZeeHighPt_13TeV
data = <!Plot_general|eData!>
type= mjj
;SBweight = sb_weight_ZeeBDTVH_highpt
;SBweight = VHbb::SoverSBWeight(ZllBDT_highptCMVA.Nominal,3)
wsVarName = ZeeHighPt_13TeV

;MUON REGION

;low pt
[dc:Zuu_CRZlight_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZlight_lowpt
cut = Zuu_CRZlight_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRZlight_lowpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZlight_lowpt
[dc:Zuu_CRZb_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZb_lowpt
cut = Zuu_CRZb_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRZb_lowpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZb_lowpt
[dc:Zuu_CRttbar_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRttbar_lowpt
cut = Zuu_CRttbar_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRttbar_lowpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRttbar_lowpt
[dc:Zuu_BDT_lowpt]
var = <!LimitGeneral|BDTlow!>
range = <!LimitGeneral|BDTrange!>
;var = <!LimitGeneral|Mass!>
;range = <!LimitGeneral|MassRange!>
dcName = Zuu_BDT_lowpt
cut = Zuu_BDT_lowpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_BDT_lowpt
data = <!Plot_general|muData!>
type= BDT
wsVarName = Zuu_BDT_lowpt
rebin_method = fixed
rebin_list = <!Datacard|DNNbinsLowPt!>

;Mass
[dc:ZuuMass_lowpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZuuMass_lowpt
cut = ZuuBDT_lowpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZuuMass_lowpt
data = <!Plot_general|muData!>
type= mjj
;SBweight = sb_weight_ZuuBDTVH_lowpt
SBweight = VHbb::SoverSBWeight(ZllBDT_lowptCMVA.Nominal,2)
wsVarName = ZuuMass_lowpt
[dc:ZuuLowPt_13TeV]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZuuLowPt_13TeV
cut = ZuuBDT_lowpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZuuLowPt_13TeV
data = <!Plot_general|muData!>
type= mjj
;SBweight = sb_weight_ZuuBDTVH_lowpt
;SBweight = VHbb::SoverSBWeight(ZllBDT_lowptCMVA.Nominal,2)
wsVarName = ZuuLowPt_13TeV

;high pt

[dc:Zuu_CRZlight_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZlight_highpt
cut = Zuu_CRZlight_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRZlight_highpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZlight_highpt
[dc:Zuu_CRZb_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZb_highpt
cut = Zuu_CRZb_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRZb_highpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZb_highpt
[dc:Zuu_CRttbar_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRttbar_highpt
cut = Zuu_CRttbar_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_CRttbar_highpt
data = <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRttbar_highpt
[dc:Zuu_BDT_highpt]
var = <!LimitGeneral|BDThigh!>
range = <!LimitGeneral|BDTrange!>
;var = <!LimitGeneral|Mass!>
;range = <!LimitGeneral|MassRange!>
dcName = Zuu_BDT_highpt
cut = Zuu_BDT_highpt
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = Zuu_BDT_highpt
data = <!Plot_general|muData!>
type= BDT
wsVarName = Zuu_BDT_highpt
rebin_method = fixed
rebin_list = <!Datacard|DNNbinsHighPt!>

;Mass
[dc:ZuuMass_highpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZuuMass_highpt
cut = ZuuBDT_highpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZuuMass_highpt
data = <!Plot_general|muData!>
type= mjj
;SBweight = sb_weight_ZuuBDTVH_highpt
SBweight = VHbb::SoverSBWeight(ZllBDT_highptCMVA.Nominal,4)
wsVarName = ZuuMass_highpt

[dc:ZuuHighPt_13TeV]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRange!>
dcName = ZuuHighPt_13TeV
cut = ZuuBDT_highpt_M
signal = <!Datacard|VHsignals!>
background = <!Datacard|VHbackgrounds!>
dcBin = ZuuHighPt_13TeV
data = <!Plot_general|muData!>
type= mjj
;SBweight = sb_weight_ZuuBDTVH_highpt
;SBweight = VHbb::SoverSBWeight(ZllBDT_highptCMVA.Nominal,4)
wsVarName = ZuuHighPt_13TeV

;;;;
;VV
;;;;

;ELECTRON REGION

;CR
[dc:Zee_CRZb_inclVV_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZb_inclVV_lowpt
cut = Zee_CRZb_inclVV_lowpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = Zee_CRZb_inclVV_lowpt
data =  <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZb_inclVV_lowpt
[dc:Zee_CRZb_inclVV_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zee_CRZb_inclVV_highpt
cut = Zee_CRZb_inclVV_highpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = Zee_CRZb_inclVV_highpt
data =  <!Plot_general|eData!>
type= cr
wsVarName = Zee_CRZb_inclVV_highpt
;SR
[dc:ZeeBDTVV_lowpt]
var = <!LimitGeneral|BDTVVlow!>
range = <!LimitGeneral|BDTrange!>
dcName = ZeeBDTVV_lowpt
cut = ZeeBDTVV_lowpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZeeBDTVV_lowpt
data =  <!Plot_general|eData!>
type= BDT
wsVarName = ZeeBDTVV_lowpt
;mass
[dc:ZeeMassVV_lowpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRangeVV!>
dcName = ZeeMassVV_lowpt
cut = ZeeBDTVV_lowpt_M
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZeeMassVV_lowpt
data =  <!Plot_general|eData!>
type= mjj
SBweight = sb_weight_ZeeBDT_lowpt
wsVarName = ZeeMassVV_lowpt
[dc:ZeeBDTVV_highpt]
var = <!LimitGeneral|BDTVVhigh!>
range = <!LimitGeneral|BDTrange!>
dcName = ZeeBDTVV_highpt
cut = ZeeBDTVV_highpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZeeBDTVV_highpt
data =  <!Plot_general|eData!>
type= BDT
wsVarName = ZeeBDTVV_highpt
;mass
[dc:ZeeMassVV_highpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRangeVV!>
dcName = ZeeMassVV_highpt
cut = ZeeBDTVV_highpt_M
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZeeMassVV_highpt
data =  <!Plot_general|eData!>
type=mjj
SBweight = sb_weight_ZeeBDT_highpt
wsVarName = ZeeMassVV_highpt

;MUON

;CR
[dc:Zuu_CRZb_inclVV_lowpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZb_inclVV_lowpt
cut = Zuu_CRZb_inclVV_lowpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = Zuu_CRZb_inclVV_lowpt
data =  <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZb_inclVV_lowpt
[dc:Zuu_CRZb_inclVV_highpt]
var = <!LimitGeneral|bTagVar!>
range = <!LimitGeneral|CSVrange!>
dcName = Zuu_CRZb_inclVV_highpt
cut = Zuu_CRZb_inclVV_highpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = Zuu_CRZb_inclVV_highpt
data =  <!Plot_general|muData!>
type= cr
wsVarName = Zuu_CRZb_inclVV_highpt
;SR
[dc:ZuuBDTVV_lowpt]
var = <!LimitGeneral|BDTVVlow!>
range = <!LimitGeneral|BDTrange!>
dcName = ZuuBDTVV_lowpt
cut = ZuuBDTVV_lowpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZuuBDTVV_lowpt
data =  <!Plot_general|muData!>
type= BDT
wsVarName = ZuuBDTVV_lowpt
;mass
[dc:ZuuMassVV_lowpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRangeVV!>
dcName = ZuuMassVV_lowpt
cut = ZuuBDTVV_lowpt_M
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZuuMassVV_lowpt
data =  <!Plot_general|muData!>
type=mjj
SBweight = sb_weight_ZuuBDT_lowpt
wsVarName = ZuuMassVV_lowpt
[dc:ZuuBDTVV_highpt]
var = <!LimitGeneral|BDTVVhigh!>
range = <!LimitGeneral|BDTrange!>
dcName = ZuuBDTVV_highpt
cut = ZuuBDTVV_highpt
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZuuBDTVV_highpt
data =  <!Plot_general|muData!>
type= BDT
wsVarName = ZuuBDTVV_highpt
;mass
[dc:ZuuMassVV_highpt]
var = <!LimitGeneral|Mass!>
range = <!LimitGeneral|MassRangeVV!>
dcName = ZuuMassVV_highpt
cut = ZuuBDTVV_highpt_M
background = <!Datacard|VVbackgrounds!>
signal = <!Datacard|VVsignals!>
dcBin = ZuuMassVV_highpt
data =  <!Plot_general|muData!>
type=mjj
SBweight = sb_weight_ZuuBDT_highpt
wsVarName = ZuuMassVV_highpt
