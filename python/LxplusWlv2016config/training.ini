#-------------------------------------------------
# TMVA Factory Settings
[factory]
factoryname = MVA
factorysettings = V:!Silent:!Color:!DrawProgressBar:AnalysisType=Classification:Transformations=I

#-------------------------------------------------
# TMVA Classifier Settings
[MVAGeneral]
type = BDT

#-------------------------------------------------
# Classification Features
[WlvBDTVars]

Nominal: H_mass,H_pt,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>),SA5

jer_Up: H_mass_jer_Up_corrjerUp,H_pt_jer_Up_corrjerUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jerUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjerUp,SA5

jer_Down: H_mass_jer_Down_corrjerDown,H_pt_jer_Down_corrjerDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jerUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjerDown,SA5

jesAbsoluteStat_Up: H_mass_jesAbsoluteStat_Up_corrjesAbsoluteStatUp,H_pt_jesAbsoluteStat_Up_corrjesAbsoluteStatUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesAbsoluteStatUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesAbsoluteStatUp,SA5

jesAbsoluteStat_Down: H_mass_jesAbsoluteStat_Down_corrjesAbsoluteStatDown,H_pt_jesAbsoluteStat_Down_corrjesAbsoluteStatDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesAbsoluteStatUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesAbsoluteStatDown,SA5

jesAbsoluteScale_Up: H_mass_jesAbsoluteScale_Up_corrjesAbsoluteScaleUp,H_pt_jesAbsoluteScale_Up_corrjesAbsoluteScaleUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesAbsoluteScaleUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesAbsoluteScaleUp,SA5

jesAbsoluteScale_Down: H_mass_jesAbsoluteScale_Down_corrjesAbsoluteScaleDown,H_pt_jesAbsoluteScale_Down_corrjesAbsoluteScaleDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesAbsoluteScaleUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesAbsoluteScaleDown,SA5

jesAbsoluteFlavMap_Up: H_mass_jesAbsoluteFlavMap_Up_corrjesAbsoluteFlavMapUp,H_pt_jesAbsoluteFlavMap_Up_corrjesAbsoluteFlavMapUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesAbsoluteFlavMapUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesAbsoluteFlavMapUp,SA5

jesAbsoluteFlavMap_Down: H_mass_jesAbsoluteFlavMap_Down_corrjesAbsoluteFlavMapDown,H_pt_jesAbsoluteFlavMap_Down_corrjesAbsoluteFlavMapDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesAbsoluteFlavMapUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesAbsoluteFlavMapDown,SA5

jesAbsoluteMPFBias_Up: H_mass_jesAbsoluteMPFBias_Up_corrjesAbsoluteMPFBiasUp,H_pt_jesAbsoluteMPFBias_Up_corrjesAbsoluteMPFBiasUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesAbsoluteMPFBiasUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesAbsoluteMPFBiasUp,SA5

jesAbsoluteMPFBias_Down: H_mass_jesAbsoluteMPFBias_Down_corrjesAbsoluteMPFBiasDown,H_pt_jesAbsoluteMPFBias_Down_corrjesAbsoluteMPFBiasDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesAbsoluteMPFBiasUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesAbsoluteMPFBiasDown,SA5

jesFragmentation_Up: H_mass_jesFragmentation_Up_corrjesFragmentationUp,H_pt_jesFragmentation_Up_corrjesFragmentationUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesFragmentationUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesFragmentationUp,SA5

jesFragmentation_Down: H_mass_jesFragmentation_Down_corrjesFragmentationDown,H_pt_jesFragmentation_Down_corrjesFragmentationDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesFragmentationUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesFragmentationDown,SA5

jesSinglePionECAL_Up: H_mass_jesSinglePionECAL_Up_corrjesSinglePionECALUp,H_pt_jesSinglePionECAL_Up_corrjesSinglePionECALUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesSinglePionECALUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesSinglePionECALUp,SA5

jesSinglePionECAL_Down: H_mass_jesSinglePionECAL_Down_corrjesSinglePionECALDown,H_pt_jesSinglePionECAL_Down_corrjesSinglePionECALDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesSinglePionECALUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesSinglePionECALDown,SA5

jesSinglePionHCAL_Up: H_mass_jesSinglePionHCAL_Up_corrjesSinglePionHCALUp,H_pt_jesSinglePionHCAL_Up_corrjesSinglePionHCALUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesSinglePionHCALUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesSinglePionHCALUp,SA5

jesSinglePionHCAL_Down: H_mass_jesSinglePionHCAL_Down_corrjesSinglePionHCALDown,H_pt_jesSinglePionHCAL_Down_corrjesSinglePionHCALDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesSinglePionHCALUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesSinglePionHCALDown,SA5

jesFlavorQCD_Up: H_mass_jesFlavorQCD_Up_corrjesFlavorQCDUp,H_pt_jesFlavorQCD_Up_corrjesFlavorQCDUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesFlavorQCDUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesFlavorQCDUp,SA5

jesFlavorQCD_Down: H_mass_jesFlavorQCD_Down_corrjesFlavorQCDDown,H_pt_jesFlavorQCD_Down_corrjesFlavorQCDDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesFlavorQCDUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesFlavorQCDDown,SA5

jesRelativeJEREC1_Up: H_mass_jesRelativeJEREC1_Up_corrjesRelativeJEREC1Up,H_pt_jesRelativeJEREC1_Up_corrjesRelativeJEREC1Up,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeJEREC1UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeJEREC1Up,SA5

jesRelativeJEREC1_Down: H_mass_jesRelativeJEREC1_Down_corrjesRelativeJEREC1Down,H_pt_jesRelativeJEREC1_Down_corrjesRelativeJEREC1Down,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeJEREC1UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeJEREC1Down,SA5

jesRelativeJEREC2_Up: H_mass_jesRelativeJEREC2_Up_corrjesRelativeJEREC2Up,H_pt_jesRelativeJEREC2_Up_corrjesRelativeJEREC2Up,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeJEREC2UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeJEREC2Up,SA5

jesRelativeJEREC2_Down: H_mass_jesRelativeJEREC2_Down_corrjesRelativeJEREC2Down,H_pt_jesRelativeJEREC2_Down_corrjesRelativeJEREC2Down,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeJEREC2UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeJEREC2Down,SA5

jesRelativeJERHF_Up: H_mass_jesRelativeJERHF_Up_corrjesRelativeJERHFUp,H_pt_jesRelativeJERHF_Up_corrjesRelativeJERHFUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeJERHFUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeJERHFUp,SA5

jesRelativeJERHF_Down: H_mass_jesRelativeJERHF_Down_corrjesRelativeJERHFDown,H_pt_jesRelativeJERHF_Down_corrjesRelativeJERHFDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeJERHFUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeJERHFDown,SA5

jesRelativePtBB_Up: H_mass_jesRelativePtBB_Up_corrjesRelativePtBBUp,H_pt_jesRelativePtBB_Up_corrjesRelativePtBBUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativePtBBUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativePtBBUp,SA5

jesRelativePtBB_Down: H_mass_jesRelativePtBB_Down_corrjesRelativePtBBDown,H_pt_jesRelativePtBB_Down_corrjesRelativePtBBDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativePtBBUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativePtBBDown,SA5

jesRelativePtEC1_Up: H_mass_jesRelativePtEC1_Up_corrjesRelativePtEC1Up,H_pt_jesRelativePtEC1_Up_corrjesRelativePtEC1Up,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativePtEC1UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativePtEC1Up,SA5

jesRelativePtEC1_Down: H_mass_jesRelativePtEC1_Down_corrjesRelativePtEC1Down,H_pt_jesRelativePtEC1_Down_corrjesRelativePtEC1Down,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativePtEC1UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativePtEC1Down,SA5

jesRelativePtEC2_Up: H_mass_jesRelativePtEC2_Up_corrjesRelativePtEC2Up,H_pt_jesRelativePtEC2_Up_corrjesRelativePtEC2Up,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativePtEC2UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativePtEC2Up,SA5

jesRelativePtEC2_Down: H_mass_jesRelativePtEC2_Down_corrjesRelativePtEC2Down,H_pt_jesRelativePtEC2_Down_corrjesRelativePtEC2Down,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativePtEC2UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativePtEC2Down,SA5

jesRelativePtHF_Up: H_mass_jesRelativePtHF_Up_corrjesRelativePtHFUp,H_pt_jesRelativePtHF_Up_corrjesRelativePtHFUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativePtHFUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativePtHFUp,SA5

jesRelativePtHF_Down: H_mass_jesRelativePtHF_Down_corrjesRelativePtHFDown,H_pt_jesRelativePtHF_Down_corrjesRelativePtHFDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativePtHFUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativePtHFDown,SA5

jesRelativeBal_Up: H_mass_jesRelativeBal_Up_corrjesRelativeBalUp,H_pt_jesRelativeBal_Up_corrjesRelativeBalUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeBalUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeBalUp,SA5

jesRelativeBal_Down: H_mass_jesRelativeBal_Down_corrjesRelativeBalDown,H_pt_jesRelativeBal_Down_corrjesRelativeBalDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeBalUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeBalDown,SA5

jesRelativeFSR_Up: H_mass_jesRelativeFSR_Up_corrjesRelativeFSRUp,H_pt_jesRelativeFSR_Up_corrjesRelativeFSRUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeFSRUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeFSRUp,SA5

jesRelativeFSR_Down: H_mass_jesRelativeFSR_Down_corrjesRelativeFSRDown,H_pt_jesRelativeFSR_Down_corrjesRelativeFSRDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeFSRUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeFSRDown,SA5

jesRelativeStatFSR_Up: H_mass_jesRelativeStatFSR_Up_corrjesRelativeStatFSRUp,H_pt_jesRelativeStatFSR_Up_corrjesRelativeStatFSRUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeStatFSRUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeStatFSRUp,SA5

jesRelativeStatFSR_Down: H_mass_jesRelativeStatFSR_Down_corrjesRelativeStatFSRDown,H_pt_jesRelativeStatFSR_Down_corrjesRelativeStatFSRDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeStatFSRUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeStatFSRDown,SA5

jesRelativeStatEC_Up: H_mass_jesRelativeStatEC_Up_corrjesRelativeStatECUp,H_pt_jesRelativeStatEC_Up_corrjesRelativeStatECUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeStatECUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeStatECUp,SA5

jesRelativeStatEC_Down: H_mass_jesRelativeStatEC_Down_corrjesRelativeStatECDown,H_pt_jesRelativeStatEC_Down_corrjesRelativeStatECDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeStatECUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeStatECDown,SA5

jesRelativeStatHF_Up: H_mass_jesRelativeStatHF_Up_corrjesRelativeStatHFUp,H_pt_jesRelativeStatHF_Up_corrjesRelativeStatHFUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeStatHFUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeStatHFUp,SA5

jesRelativeStatHF_Down: H_mass_jesRelativeStatHF_Down_corrjesRelativeStatHFDown,H_pt_jesRelativeStatHF_Down_corrjesRelativeStatHFDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesRelativeStatHFUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesRelativeStatHFDown,SA5

jesPileUpDataMC_Up: H_mass_jesPileUpDataMC_Up_corrjesPileUpDataMCUp,H_pt_jesPileUpDataMC_Up_corrjesPileUpDataMCUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpDataMCUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpDataMCUp,SA5

jesPileUpDataMC_Down: H_mass_jesPileUpDataMC_Down_corrjesPileUpDataMCDown,H_pt_jesPileUpDataMC_Down_corrjesPileUpDataMCDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpDataMCUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpDataMCDown,SA5

jesPileUpPtRef_Up: H_mass_jesPileUpPtRef_Up_corrjesPileUpPtRefUp,H_pt_jesPileUpPtRef_Up_corrjesPileUpPtRefUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtRefUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtRefUp,SA5

jesPileUpPtRef_Down: H_mass_jesPileUpPtRef_Down_corrjesPileUpPtRefDown,H_pt_jesPileUpPtRef_Down_corrjesPileUpPtRefDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtRefUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtRefDown,SA5

jesPileUpPtBB_Up: H_mass_jesPileUpPtBB_Up_corrjesPileUpPtBBUp,H_pt_jesPileUpPtBB_Up_corrjesPileUpPtBBUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtBBUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtBBUp,SA5

jesPileUpPtBB_Down: H_mass_jesPileUpPtBB_Down_corrjesPileUpPtBBDown,H_pt_jesPileUpPtBB_Down_corrjesPileUpPtBBDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtBBUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtBBDown,SA5

jesPileUpPtEC1_Up: H_mass_jesPileUpPtEC1_Up_corrjesPileUpPtEC1Up,H_pt_jesPileUpPtEC1_Up_corrjesPileUpPtEC1Up,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtEC1UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtEC1Up,SA5

jesPileUpPtEC1_Down: H_mass_jesPileUpPtEC1_Down_corrjesPileUpPtEC1Down,H_pt_jesPileUpPtEC1_Down_corrjesPileUpPtEC1Down,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtEC1UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtEC1Down,SA5

jesPileUpPtEC2_Up: H_mass_jesPileUpPtEC2_Up_corrjesPileUpPtEC2Up,H_pt_jesPileUpPtEC2_Up_corrjesPileUpPtEC2Up,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtEC2UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtEC2Up,SA5

jesPileUpPtEC2_Down: H_mass_jesPileUpPtEC2_Down_corrjesPileUpPtEC2Down,H_pt_jesPileUpPtEC2_Down_corrjesPileUpPtEC2Down,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtEC2UD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtEC2Down,SA5

jesPileUpPtHF_Up: H_mass_jesPileUpPtHF_Up_corrjesPileUpPtHFUp,H_pt_jesPileUpPtHF_Up_corrjesPileUpPtHFUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtHFUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtHFUp,SA5

jesPileUpPtHF_Down: H_mass_jesPileUpPtHF_Down_corrjesPileUpPtHFDown,H_pt_jesPileUpPtHF_Down_corrjesPileUpPtHFDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpPtHFUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpPtHFDown,SA5

jesPileUpMuZero_Up: H_mass_jesPileUpMuZero_Up_corrjesPileUpMuZeroUp,H_pt_jesPileUpMuZero_Up_corrjesPileUpMuZeroUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpMuZeroUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpMuZeroUp,SA5

jesPileUpMuZero_Down: H_mass_jesPileUpMuZero_Down_corrjesPileUpMuZeroDown,H_pt_jesPileUpMuZero_Down_corrjesPileUpMuZeroDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpMuZeroUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpMuZeroDown,SA5

jesPileUpEnvelope_Up: H_mass_jesPileUpEnvelope_Up_corrjesPileUpEnvelopeUp,H_pt_jesPileUpEnvelope_Up_corrjesPileUpEnvelopeUp,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpEnvelopeUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpEnvelopeUp,SA5

jesPileUpEnvelope_Down: H_mass_jesPileUpEnvelope_Down_corrjesPileUpEnvelopeDown,H_pt_jesPileUpEnvelope_Down_corrjesPileUpEnvelopeDown,V_pt,abs(TVector2::Phi_mpi_pi(H_phi-V_phi)),Jet_btagCMVA[hJidxCMVA[1]],MET,abs(TVector2::Phi_mpi_pi(Alt$(Muon_phi[tree.VMuonIdx[0]],0)+Alt$(Electron_phi[tree.VElectronIdx[0]],0)-V_phi)),top_mass,V_mt,Sum$(Jet_pt_jesPileUpEnvelopeUD>25&&abs(Jet_eta)<2.5&&Jet_puId>0&&Jet_lepFilter&&Iteration$!=<!General|btagidx0!>&&Iteration$!=<!General|btagidx1!>)_corrjesPileUpEnvelopeDown,SA5

#-------------------------------------------------
# BDT Classifiers
[BDT_Wlv]
; note: parameters taken from AT. 
; reference https://github.com/capalmer85/AnalysisTools/blob/ed2f0724274687193620328caf5ee7d30378c668/VHbbAnalysis/cfg/bdt_1lep_2016_ICHEP2018.txt#L7
MVAtype     = <!MVAGeneral|type!>
;MVAsettings = NTrees=289:MaxDepth=5:MinNodeSize=0.416364956233:nCuts=16:BoostType=Grad:UseBaggedBoost=True:Shrinkage=0.0954152279012:NodePurityLimit=0.0915613170424:SeparationType=CrossEntropy
MVAsettings = NTrees=1500:MaxDepth=4:MinNodeSize=2.5:nCuts=20:BoostType=Grad:UseBaggedBoost=True:Shrinkage=0.05:NodePurityLimit=0.0915613170424:SeparationType=CrossEntropy
signals     = [<!Plot_general|Signal!>]
backgrounds = [<!Plot_general|allBKG!>]
treeVarSet  = WlvBDTVars
treeCut     = Sig

#-------------------------------------------------
# Classifiers to Evaluate
[MVALists]
List_for_submitscript = BDT_Wlv

#-------------------------------------------------
[Optimisation]
training = RTight_ZH125_janAngularOnly
parameters = NTrees,nEventsMin,MaxDepth,BoostType,AdaBoostBeta,SeparationType,nCuts,PruneMethod,PruneStrength,GradBaggingFraction,Shrinkage,UseBaggedGrad,UseRandomisedTrees,UseNvars

;Var= min max number_of steps. number_of_steps is 0 for only min, 1 for min and max, etc...
NTrees = [100,200,10]
nEventsMin = [50,600,0]
MaxDepth = [4,5,0]
BoostType = ['AdaBoost']
AdaBoostBeta = [0.01,0.2,10]
SeparationType = ['MisClassificationError']
nCuts = [25,150,0]
PruneMethod = ['NoPruning']
PruneStrength = [50]
GradBaggingFraction = [1.0]
Shrinkage = [0.1]
UseBaggedGrad = ['True']
UseRandomisedTrees = ['False']
UseNvars = [30]
